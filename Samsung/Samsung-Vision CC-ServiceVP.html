<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vision Command Center - Future of Business Intelligence</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --slds-c-color-brand: #0176D3;
            --slds-c-color-sales: #FF6B35;
            --slds-c-color-service: #0B827C;
            --slds-c-color-marketing: #8B5CF6;
            --slds-c-color-field-service: #00A862;
            --slds-c-color-success: #04844B;
            --slds-c-color-warning: #FFB75D;
            --slds-c-color-error: #C23934;
            --slds-c-color-text-default: #181818;
            --slds-c-color-border: #C9C7C5;
            --slds-c-color-background: #F3F3F3;
            
            /* Light theme colors */
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #f3f3f3;
            --text-primary: #181818;
            --text-secondary: #706e6b;
            --text-weak: #706e6b;
            --border-primary: #c9c7c5;
            --border-secondary: #dddbda;
            --shadow-light: rgba(0,0,0,0.1);
            --shadow-medium: rgba(0,0,0,0.15);
            
            /* Vision Command Center Futuristic Colors */
            --vision-primary: #667eea;
            --vision-secondary: #764ba2;
            --vision-accent: #00d4ff;
            --vision-success: #00ff88;
            --vision-warning: #ffaa00;
            --vision-danger: #ff4757;
            --vision-neural: #a8e6cf;
            --vision-quantum: #ff8a80;
            --vision-hologram: rgba(102, 126, 234, 0.1);
            --vision-gradient: linear-gradient(135deg, var(--vision-primary) 0%, var(--vision-secondary) 100%);
        }


        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Salesforce Sans', Arial, sans-serif;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            line-height: 1.5;
        }

        .header {
            background: var(--bg-primary);
            padding: 1rem 2rem;
            box-shadow: 0 2px 4px var(--shadow-light);
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-nav {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--slds-c-color-brand);
        }

        .salesforce-logo {
            color: var(--slds-c-color-brand);
            flex-shrink: 0;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-primary {
            font-size: 1.5rem;
            font-weight: bold;
            line-height: 1.2;
        }

        .logo-secondary {
            font-size: 0.8rem;
            font-weight: normal;
            opacity: 0.8;
            line-height: 1;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-role {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: normal;
        }

        .user-name {
            font-size: 1rem;
            color: var(--text-primary);
            font-weight: 600;
        }

        .impact-effort {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .impact-badge, .effort-badge {
            font-size: 0.75rem;
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            font-weight: 500;
        }

        .impact-badge.high {
            background: rgba(196, 57, 52, 0.1);
            color: #c43934;
        }

        .impact-badge.medium {
            background: rgba(255, 183, 93, 0.1);
            color: #ffb75d;
        }

        .effort-badge.large {
            background: rgba(1, 118, 211, 0.1);
            color: #0176d3;
        }

        .effort-badge.medium {
            background: rgba(139, 92, 246, 0.1);
            color: #8b5cf6;
        }

        .alert-badge {
            background: var(--slds-c-color-error);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .main-container {
            padding: 2rem;
            max-width: 1600px;
            margin: 0 auto;
            min-height: calc(100vh - 80px);
        }

        .header-tab-navigation {
            display: flex;
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 4px;
            border: 1px solid var(--border-primary);
        }


        .header-tab-button {
            padding: 8px 20px;
            background: none;
            border: none;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            border-radius: 16px;
            transition: all 0.3s ease;
            color: var(--text-primary);
            white-space: nowrap;
        }

        .header-tab-button.active {
            background: var(--bg-primary);
            color: var(--slds-c-color-brand);
            font-weight: 600;
            box-shadow: 0 1px 3px var(--shadow-light);
        }

        .header-tab-button:not(.active):hover {
            color: var(--slds-c-color-brand);
        }

        .header-tab-button:focus {
            outline: 2px solid var(--slds-c-color-brand);
            outline-offset: 2px;
        }

        .header-tab-button:focus:not(:focus-visible) {
            outline: none;
        }

        .tab-navigation {
            display: none;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 1.5rem;
        }

        .panel {
            background: var(--bg-primary);
            border-radius: 8px;
            box-shadow: 0 2px 8px var(--shadow-light);
            border: 1px solid var(--border-secondary);
            overflow: hidden;
        }

        .panel-header {
            background: var(--bg-secondary);
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border-primary);
            font-weight: 600;
            font-size: 1rem;
            color: var(--text-primary);
        }

        .panel-content {
            padding: 1.5rem;
        }

        .feed-item {
            background: var(--bg-primary);
            border: 1px solid var(--border-secondary);
            border-left: 4px solid #ccc;
            border-radius: 6px;
            padding: 1rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .feed-item:hover {
            transform: translateX(4px);
            box-shadow: 0 2px 8px var(--shadow-light);
            background: var(--bg-primary);
        }

        .feed-item:focus {
            outline: 2px solid var(--slds-c-color-brand);
            outline-offset: 2px;
        }

        .feed-item:focus:not(:focus-visible) {
            outline: none;
        }


        .feed-item.selected {
            border-left-color: #FFD700 !important;
            background: rgba(255, 215, 0, 0.2) !important;
        }

        .feed-item.critical {
            border-left-color: var(--slds-c-color-error);
        }

        .feed-item.warning {
            border-left-color: var(--slds-c-color-warning);
        }

        .feed-item.opportunity {
            border-left-color: var(--slds-c-color-success);
        }

        .feed-item.info {
            border-left-color: var(--slds-c-color-brand);
        }

        .feed-timestamp {
            font-size: 0.75rem;
            color: var(--text-weak);
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }

        .feed-timestamp .tag {
            flex-shrink: 0;
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
        }

        .feed-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .feed-description {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }


        .feed-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
            font-size: 0.75rem;
        }

        .feed-action {
            background: var(--slds-c-color-brand);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 0.75rem;
            cursor: pointer;
            margin-right: 0.5rem;
        }

        .feed-action.primary {
            background: var(--slds-c-color-brand);
        }

        .feed-action:not(.primary) {
            background: #f0f0f0;
            color: #333;
        }

        /* Alert Detail Panel */
        .alert-detail-panel {
            background: transparent;
            overflow: hidden;
            min-height: 500px;
        }

        .alert-detail-header {
            background: transparent;
            padding: 1rem 0;
            font-weight: 600;
        }

        .alert-detail-content {
            padding: 0;
        }

        .alert-detail-empty {
            text-align: center;
            color: #706E6B;
            padding: 3rem 1rem;
        }

        /* Comprehensive Alert Details Styles */
        .alert-detail-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--slds-c-color-border);
        }

        .alert-detail-title h2 {
            margin: 0;
            color: var(--text-primary);
            font-size: 1.5rem;
        }

        .alert-severity {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
        }

        .alert-severity.critical {
            background: #FEE2E2;
            color: #DC2626;
        }

        .alert-description {
            margin-bottom: 2rem;
            padding: 1rem;
            background: #F8F9FA;
            border-radius: 8px;
            border-left: 4px solid var(--slds-c-color-brand);
        }

        .alert-description p {
            margin: 0;
            font-size: 1rem;
            line-height: 1.6;
        }

        /* Affected Metrics Styles */
        .affected-metrics-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
        }

        .affected-metrics-section h3 {
            margin: 0 0 1.5rem 0;
            color: var(--text-primary);
            font-size: 1.2rem;
            font-weight: 600;
        }

        .interaction-hint {
            font-size: 0.8rem;
            font-weight: 400;
            color: var(--slds-c-color-text-weak);
            font-style: italic;
        }

        /* Interactive Metric Cards */
        .clickable-metric {
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .clickable-metric:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .clickable-metric.selected {
            border: 2px solid var(--slds-c-color-brand);
            box-shadow: 0 0 0 3px rgba(0, 112, 210, 0.1);
            transform: scale(1.02);
        }

        .clickable-metric.selected::after {
            content: "Selected";
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--slds-c-color-brand);
            color: white;
            font-size: 0.6rem;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: 600;
        }

        /* Propagation Container */
        .propagation-container {
            margin-top: 1.5rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .propagation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--slds-c-color-border);
            background: white;
            border-radius: 8px 8px 0 0;
        }

        .propagation-header h4 {
            margin: 0;
            color: var(--text-primary);
            font-size: 1.1rem;
            font-weight: 600;
        }

        .close-propagation {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--slds-c-color-text-weak);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .close-propagation:hover {
            background: var(--slds-c-color-background-destructive);
            color: white;
        }

        .propagation-content {
            padding: 1.5rem;
        }

        /* Propagation Flow Styles */
        .propagation-flow {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .propagation-chain {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .source-metric {
            flex-shrink: 0;
        }

        .affected-metrics-chain {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .metric-card.mini {
            width: 140px;
            height: 80px;
            padding: 0.75rem;
            margin: 0;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 6px;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            position: relative;
        }

        .metric-card.mini .cloud-logos {
            top: 0.25rem;
            right: 0.25rem;
        }

        .metric-card.mini .cloud-logo {
            width: 12px;
            height: 12px;
        }

        .metric-card.mini .cloud-logo.csi {
            width: 12px;
            height: 12px;
            font-size: 5px;
        }

        .metric-card.mini .metric-title {
            font-size: 0.65rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .metric-card.mini .metric-value {
            font-size: 0.85rem;
            font-weight: 700;
            color: var(--slds-c-color-brand);
        }

        .propagation-arrow {
            font-size: 1.5rem;
            color: var(--slds-c-color-brand);
            font-weight: bold;
            flex-shrink: 0;
        }

        .impact-summary {
            margin-top: 0.75rem;
            padding: 0.75rem 1rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(240, 248, 255, 0.9) 100%);
            border-radius: 6px;
            border: 1px solid var(--slds-c-color-brand);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 8px rgba(0, 112, 210, 0.1);
        }

        .impact-summary h5 {
            margin: 0 0 0.5rem 0;
            color: var(--text-primary);
            font-size: 0.85rem;
            font-weight: 600;
        }

        .impact-summary ul {
            margin: 0;
            padding-left: 1rem;
            list-style-type: none;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.25rem;
        }

        .impact-summary li {
            margin-bottom: 0;
            position: relative;
            font-size: 0.75rem;
            line-height: 1.3;
            padding-left: 0.75rem;
        }

        .impact-summary li:before {
            content: "â€¢";
            color: var(--slds-c-color-brand);
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 0.6rem;
            top: 0.1rem;
        }

        @media (max-width: 768px) {
            .impact-summary ul {
                grid-template-columns: 1fr;
                gap: 0.25rem;
            }
        }

        @media (max-width: 768px) {
            .propagation-chain {
                flex-direction: column;
                align-items: stretch;
            }

            .affected-metrics-chain {
                flex-direction: column;
                gap: 0.5rem;
                align-items: center;
            }

            .propagation-arrow {
                transform: rotate(90deg);
                align-self: center;
            }

            .metric-card.mini {
                width: 100%;
                max-width: 200px;
            }
        }

        .metrics-categories {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .cloud-metrics h4, .cross-cloud-metrics h4 {
            margin: 0 0 1rem 0;
            font-size: 1rem;
            color: #666;
            font-weight: 600;
        }

        .metric-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        .affected-metric {
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .affected-metric:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }

        .metric-name {
            font-weight: 500;
            font-size: 12px;
            color: #6B7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .metric-value {
            font-size: 42px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            line-height: 1;
        }

        .metric-impact {
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .metric-impact.negative {
            color: #EF4444;
        }

        .metric-impact.positive {
            color: #10B981;
        }

        .metric-impact.neutral {
            color: #6366F1;
        }

        /* Customer Signals Styles */
        .customer-signals-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
        }

        .customer-signals-section h3 {
            margin: 0 0 1rem 0;
            color: var(--text-primary);
        }

        /* 4x2 Grid Layout for Critical Metrics */
        .metrics-grid.critical-metrics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 1rem;
            max-width: 100%;
        }

        @media (max-width: 1200px) {
            .metrics-grid.critical-metrics-grid {
                grid-template-columns: repeat(2, 1fr);
                grid-template-rows: repeat(4, 1fr);
            }
        }

        @media (max-width: 768px) {
            .metrics-grid.critical-metrics-grid {
                grid-template-columns: 1fr;
                grid-template-rows: repeat(8, 1fr);
            }
        }

        .signal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .signal-card {
            padding: 1rem;
            background: #FEF2F2;
            border: 1px solid #FECACA;
            border-radius: 8px;
        }

        .signal-title {
            font-weight: 500;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .signal-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #DC2626;
            margin-bottom: 0.3rem;
        }

        .signal-trend {
            font-size: 0.8rem;
            color: #666;
        }

        /* Impact Analysis Styles */
        .impact-analysis-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
        }

        .impact-analysis-section h3 {
            margin: 0 0 1rem 0;
            color: var(--text-primary);
        }

        .analysis-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .impact-analysis h4, .root-causes h4 {
            margin: 0 0 1rem 0;
            color: #666;
        }

        .impact-analysis ul, .root-causes ul {
            margin: 0;
            padding-left: 1.2rem;
        }

        .impact-analysis li, .root-causes li {
            margin-bottom: 0.5rem;
            line-height: 1.5;
        }

        /* Recommended Actions Styles */
        .recommended-actions-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
        }

        .recommended-actions-section h3 {
            margin: 0 0 1rem 0;
            color: var(--text-primary);
        }

        .actions-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .action-item {
            padding: 0.75rem 1rem;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 6px;
            background: white;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .action-item.priority-high {
            border-left: 3px solid #DC2626;
        }

        .action-item.priority-medium {
            border-left: 3px solid #F59E0B;
        }

        .action-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .action-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .action-title {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .action-priority {
            padding: 0.15rem 0.5rem;
            border-radius: 10px;
            font-size: 0.65rem;
            font-weight: 600;
            background: #FEE2E2;
            color: #DC2626;
        }

        .action-description {
            color: #666;
            line-height: 1.3;
            font-size: 0.85rem;
        }

        .action-ctas {
            display: flex;
            gap: 0.5rem;
            flex-shrink: 0;
        }

        .action-cta {
            padding: 0.4rem 0.8rem;
            border: none;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .action-cta.primary {
            background: var(--slds-c-color-brand);
            color: white;
        }

        .action-cta.secondary {
            background: #F3F4F6;
            color: #374151;
            border: 1px solid #D1D5DB;
        }

        .action-cta:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .action-status {
            padding: 0.4rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            display: inline-block;
        }

        .action-status.pending {
            background: #FEF3C7;
            color: #D97706;
        }

        .action-status.completed {
            background: #D1FAE5;
            color: #065F46;
        }

        @media (max-width: 768px) {
            .action-item {
                flex-direction: column;
                align-items: stretch;
                gap: 0.5rem;
            }
            
            .action-ctas {
                justify-content: flex-end;
            }
        }

        /* Stakeholders Styles */
        .stakeholders-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
        }

        .stakeholders-section h3 {
            margin: 0 0 1rem 0;
            color: var(--text-primary);
        }

        .stakeholders-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }

        .stakeholder-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: #F8F9FA;
            border-radius: 8px;
            border: 1px solid var(--slds-c-color-border);
        }

        .stakeholder-name {
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .stakeholder-role {
            color: #666;
            font-size: 0.9rem;
        }

        .stakeholder-actions {
            display: flex;
            gap: 0.5rem;
        }

        .slack-dm, .slack-channel {
            padding: 0.4rem 0.8rem;
            border: none;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .slack-dm {
            background: #4A154B;
            color: white;
        }

        .slack-channel {
            background: #ECF0F1;
            color: #4A154B;
        }

        .slack-dm:hover, .slack-channel:hover {
            transform: translateY(-1px);
        }

        /* Historical Activities Styles */
        .historical-activities-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
        }

        .historical-activities-section h3 {
            margin: 0 0 1rem 0;
            color: var(--slds-c-color-text-default);
        }

        .activities-timeline {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .activity-item {
            display: grid;
            grid-template-columns: 100px 150px 1fr;
            gap: 1rem;
            padding: 1rem;
            background: #F8F9FA;
            border-radius: 6px;
            border-left: 3px solid var(--slds-c-color-brand);
        }

        .activity-time {
            font-size: 0.8rem;
            color: #666;
            font-weight: 500;
        }

        .activity-user {
            font-weight: 600;
            color: var(--slds-c-color-brand);
        }

        .activity-action {
            color: #333;
            line-height: 1.4;
        }

        /* Related Boards Styles */
        .related-boards-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
        }

        .related-boards-section h3 {
            margin: 0 0 1rem 0;
            color: var(--slds-c-color-text-default);
        }

        .boards-list {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .board-reference {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: #F8F9FA;
            border-radius: 6px;
            border: 1px solid var(--slds-c-color-border);
        }

        .board-name {
            font-weight: 600;
        }

        .board-status {
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.8rem;
            background: #E0F2FE;
            color: #0C4A6E;
        }

        .board-link {
            padding: 0.5rem 1rem;
            background: var(--slds-c-color-brand);
            color: white;
            border: none;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .board-link:hover {
            background: #014486;
            transform: translateY(-1px);
        }

        /* Create Strategy Board CTA Styles */
        .create-strategy-cta-section {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.25);
        }

        .create-strategy-cta {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: #667eea;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .create-strategy-cta:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .create-strategy-cta:active {
            transform: translateY(0);
        }


        .alert-detail-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--slds-c-color-text-default);
        }

        .alert-detail-meta {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: #F8F9FA;
            border-radius: 6px;
        }

        .meta-item {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .meta-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: #706E6B;
            text-transform: uppercase;
        }

        .meta-value {
            font-weight: 600;
        }

        .alert-description {
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .alert-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .action-primary {
            background: var(--slds-c-color-brand);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            flex: 1;
        }

        .action-secondary {
            background: white;
            color: var(--slds-c-color-brand);
            border: 1px solid var(--slds-c-color-brand);
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            flex: 1;
        }

        /* Strategy Board Detail Panel */
        .strategy-detail-panel {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid var(--slds-c-color-border);
            overflow: hidden;
            min-height: 500px;
        }

        .strategy-detail-header {
            background: #F8F9FA;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--slds-c-color-border);
            font-weight: 600;
        }

        .strategy-detail-content {
            padding: 1.5rem;
        }

        .strategy-chart {
            background: #F8F9FA;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--slds-c-color-brand);
            font-weight: 600;
        }

        .prediction-section {
            background: linear-gradient(135deg, #E8F5E8 0%, #F1F8E9 100%);
            border-left: 4px solid #4CAF50;
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
        }

        .what-if-section {
            background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);
            border-left: 4px solid #FF9800;
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
        }

        .strategy-board {
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 6px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .strategy-board:hover {
            transform: translateY(-2px);
        }

        .strategy-board.selected {
            border: 2px solid #FFD700;
            background: rgba(255, 215, 0, 0.1);
        }

        .board-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .board-title {
            font-weight: 600;
            font-size: 1rem;
        }

        .board-status {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            background: var(--slds-c-color-success);
            color: white;
        }

        .progress-bar {
            height: 8px;
            background: #E5E5E5;
            border-radius: 4px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--slds-c-color-brand);
            transition: width 0.3s ease;
        }

        .board-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
            font-size: 0.875rem;
        }

        .metric-item {
            text-align: left;
            display: flex;
            justify-content: space-between;
        }

        .metric-label {
            color: #706E6B;
        }

        .metric-value {
            font-weight: 600;
        }

        .board-action {
            background: var(--slds-c-color-brand);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 0.875rem;
            cursor: pointer;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .kpi-card {
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 6px;
            padding: 1rem;
            text-align: left;
        }

        .kpi-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--slds-c-color-brand);
            display: block;
        }

        .kpi-label {
            font-size: 0.875rem;
            color: #706E6B;
            margin-top: 0.5rem;
        }

        .kpi-change {
            font-size: 0.75rem;
            margin-top: 0.25rem;
        }

        .kpi-change.positive {
            color: var(--slds-c-color-success);
        }

        .kpi-change.negative {
            color: var(--slds-c-color-error);
        }

        .executive-summary {
            background: linear-gradient(135deg, #E8F4FD 0%, #F3F9FF 100%);
            border: 1px solid var(--slds-c-color-border);
            border-left: 4px solid var(--slds-c-color-brand);
            border-radius: 6px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .confidence-badge {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
        }

        /* Monitor Tab Styles */
        .monitor-controls {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid var(--slds-c-color-border);
            margin-bottom: 1.5rem;
        }

        .filter-section {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        .filter-left {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-right {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .filter-buttons {
            display: flex;
            gap: 0;
            background: #f3f4f6;
            border-radius: 20px;
            padding: 2px;
            margin-right: 1rem;
        }

        .filter-btn {
            padding: 6px 16px;
            border: none;
            background: transparent;
            border-radius: 18px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-btn.active {
            background: var(--slds-c-color-brand);
            color: white;
        }

        .filter-btn:not(.active) {
            color: #6b7280;
        }

        .filter-btn:not(.active):hover {
            background: #e5e7eb;
            color: #374151;
        }

        .filter-dropdown {
            padding: 0.5rem 1rem;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 4px;
            background: white;
            font-size: 0.875rem;
        }

        .add-metric-btn, .add-chart-btn {
            background: var(--slds-c-color-brand);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 0.875rem;
            cursor: pointer;
            font-weight: 600;
        }

        .metrics-section, .charts-section, .watchlist-section {
            margin-bottom: 2rem;
        }

        .section-title {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-bottom: 1rem;
            font-size: 1.125rem;
            font-weight: 600;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .metric-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-secondary);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .metric-card:hover {
            box-shadow: 0 4px 12px var(--shadow-medium);
            transform: translateY(-2px);
            background: var(--bg-primary);
        }

        .metric-chart-container {
            height: 60px;
            margin: 12px 0 8px 0;
            position: relative;
        }

        .metric-chart {
            width: 100%;
            height: 100%;
        }

        .metric-card:focus {
            outline: 2px solid var(--slds-c-color-brand);
            outline-offset: 2px;
        }

        .metric-card:focus:not(:focus-visible) {
            outline: none;
        }


        .metric-card:hover .metric-hover-btn {
            opacity: 1;
            transform: translateY(0);
        }

        .metric-card.clickable {
            cursor: pointer;
        }

        .metric-header {
            margin-bottom: 4px;
        }

        .metric-title {
            font-weight: 500;
            font-size: 12px;
            color: var(--text-weak);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }


        .metric-actions {
            background: none;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            color: #706E6B;
        }

        .metric-value {
            font-size: 42px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            line-height: 1;
        }

        .metric-change {
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .metric-change.positive { color: #10B981; }
        .metric-change.negative { color: #EF4444; }
        .metric-change.neutral { color: #6366F1; }

        .metric-hover-btn {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: var(--slds-c-color-brand);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .metric-hover-btn:hover {
            background: var(--slds-c-color-brand-dark, #014486);
            transform: translateY(-1px);
        }

        .metric-hover-btn:focus {
            outline: 2px solid var(--slds-c-color-brand);
            outline-offset: 2px;
        }

        .metric-hover-btn:focus:not(:focus-visible) {
            outline: none;
        }

        /* Predictive Recommendations */
        .metric-prediction {
            margin-top: 0.75rem;
            padding: 0.6rem;
            background: #fafbfc;
            border-radius: 8px;
            border-left: 2px solid #e1e5e9;
            font-size: 0.75rem;
            line-height: 1.3;
        }

        .metric-prediction.warning {
            background: #fffcf5;
            border-left-color: #fbbf24;
            color: #a16207;
        }

        .metric-prediction.success {
            background: #f7fdf9;
            border-left-color: #34d399;
            color: #047857;
        }

        .metric-prediction.critical {
            background: #fef7f7;
            border-left-color: #f87171;
            color: #b91c1c;
        }

        .prediction-header {
            font-weight: 500;
            margin-bottom: 0.3rem;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.75rem;
            opacity: 0.8;
        }

        .prediction-content {
            font-weight: 400;
            opacity: 0.85;
            margin-bottom: 0.4rem;
        }

        .prediction-action {
            font-weight: 500;
            font-size: 0.7rem;
            color: #6366f1;
            opacity: 0.9;
        }

        /* Cloud Logos */
        .cloud-logos {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            display: flex;
            gap: 0.25rem;
            z-index: 2;
        }

        .cloud-logo {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .cloud-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .cloud-logo.csi {
            width: 16px;
            height: 16px;
            background: var(--slds-c-color-warning);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 6px;
            font-weight: bold;
            color: white;
            text-align: center;
            line-height: 1;
        }

        /* Act Tab Specific Styles */
        .strategy-board .metric-value {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .strategy-board .board-metrics {
            font-size: 0.875rem;
        }

        .metric-change {
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .metric-change.positive {
            color: var(--slds-c-color-success);
        }

        .metric-change.negative {
            color: var(--slds-c-color-error);
        }

        .metric-trend {
            font-size: 1.25rem;
            margin-bottom: 0.75rem;
        }

        .what-if-btn, .ask-agentforce-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.75rem;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
        }

        .ask-agentforce-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        /* Tags */
        .tag {
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .tag.sales { background: rgba(255, 107, 53, 0.2); color: #E8590C; }
        .tag.service { background: rgba(11, 130, 124, 0.2); color: #0B827C; }
        .tag.marketing { background: rgba(139, 92, 246, 0.2); color: #8B5CF6; }
        .tag.ai { background: rgba(76, 175, 80, 0.2); color: #4CAF50; }
        .tag.sustainability { background: rgba(76, 175, 80, 0.2); color: #2E7D32; }
        .tag.enterprise { background: rgba(1, 118, 211, 0.2); color: #0176D3; }
        .tag.cross-cloud { background: rgba(156, 39, 176, 0.2); color: #9C27B0; }
        .tag.multi-cloud { background: rgba(255, 152, 0, 0.2); color: #FF9800; }
        .tag.data { background: rgba(63, 81, 181, 0.2); color: #3F51B5; }
        .tag.security { background: rgba(244, 67, 54, 0.2); color: #F44336; }
        .tag.competitive { background: rgba(255, 87, 34, 0.2); color: #FF5722; }
        .tag.risk { background: rgba(255, 193, 7, 0.2); color: #FF8F00; }
        .tag.integration { background: rgba(0, 188, 212, 0.2); color: #00BCD4; }
        .tag.analytics { background: rgba(121, 85, 72, 0.2); color: #795548; }
        .tag.watchlist { background: rgba(158, 158, 158, 0.2); color: #9E9E9E; }
        .tag.urgent { background: rgba(244, 67, 54, 0.2); color: #F44336; }
        .tag.high { background: rgba(255, 152, 0, 0.2); color: #FF9800; }
        .tag.medium { background: rgba(255, 235, 59, 0.2); color: #FBC02D; }
        .tag.competitive { background: rgba(233, 30, 99, 0.2); color: #E91E63; }
        .tag.operations { background: rgba(96, 125, 139, 0.2); color: #607D8B; }
        .tag.hr { background: rgba(103, 58, 183, 0.2); color: #673AB7; }
        .tag.innovation { background: rgba(255, 193, 7, 0.2); color: #FFC107; }
        .tag.executive { background: rgba(1, 118, 211, 0.2); color: #0176D3; }
        .tag.leadership { background: rgba(139, 92, 246, 0.2); color: #8B5CF6; }

        /* Charts */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1rem;
        }

        .chart-container {
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
            padding: 1rem;
            transition: all 0.3s ease;
        }

        .chart-container:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .chart-title {
            font-weight: 600;
            font-size: 1rem;
        }

        .chart-actions {
            background: none;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            color: #706E6B;
        }

        .chart-content {
            background: #F8F9FA;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 6px;
            padding: 1rem;
            text-align: center;
            margin-bottom: 1rem;
            font-size: 1rem;
            height: 300px;
            position: relative;
        }

        .chart-canvas {
            width: 100% !important;
            height: 100% !important;
        }

        .chart-summary {
            position: absolute;
            bottom: 8px;
            left: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.9);
            padding: 0.5rem;
            border-radius: 4px;
            font-size: 0.875rem;
            color: var(--slds-c-color-text-default);
            backdrop-filter: blur(4px);
        }

        /* Watchlist */
        .view-controls {
            display: flex;
            gap: 0.5rem;
        }

        .view-btn {
            background: none;
            border: 1px solid var(--slds-c-color-border);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 0.875rem;
            cursor: pointer;
        }

        .view-btn.active {
            background: var(--slds-c-color-brand);
            color: white;
            border-color: var(--slds-c-color-brand);
        }

        .watchlist-container {
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
            padding: 1rem;
        }

        .watchlist-item {
            border: 1px solid var(--slds-c-color-border);
            border-radius: 6px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid #ccc;
        }

        .watchlist-item.priority-high {
            border-left-color: var(--slds-c-color-error);
        }

        .watchlist-item.priority-medium {
            border-left-color: var(--slds-c-color-warning);
        }

        .watchlist-item.priority-low {
            border-left-color: var(--slds-c-color-success);
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .item-title {
            font-weight: 600;
        }

        .item-details {
            margin-bottom: 0.5rem;
            color: #706E6B;
        }

        .item-progress {
            margin-bottom: 1rem;
            font-size: 0.875rem;
        }

        /* New Tab Content */
        .tab-title {
            margin-bottom: 2rem;
            color: var(--text-primary);
        }

        .insights-container, .collaborate-container {
            padding: 2rem;
        }

        /* Monitor Sub-Navigation */
        .monitor-sub-nav {
            display: flex;
            gap: 4px;
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 4px;
            margin-bottom: 2rem;
            border: 1px solid var(--border-primary);
        }

        .monitor-tab-btn {
            padding: 8px 20px;
            background: none;
            border: none;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
            color: var(--text-primary);
            white-space: nowrap;
        }

        .monitor-tab-btn.active {
            background: var(--bg-primary);
            color: var(--slds-c-color-brand);
            font-weight: 600;
            box-shadow: 0 1px 3px var(--shadow-light);
        }

        .monitor-tab-btn:not(.active):hover {
            color: var(--slds-c-color-brand);
        }

        .monitor-tab-btn:focus {
            outline: 2px solid var(--slds-c-color-brand);
            outline-offset: 2px;
        }

        .monitor-tab-btn:focus:not(:focus-visible) {
            outline: none;
        }

        .monitor-tab-content {
            display: none;
        }

        .monitor-tab-content.active {
            display: block;
        }

        /* Watchlist Styles */
        .watchlist-container {
            background: var(--bg-primary);
            border-radius: 8px;
            border: 1px solid var(--border-secondary);
            overflow: hidden;
        }

        .watchlist-header {
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-primary);
        }

        .watchlist-controls {
            display: flex;
            gap: 4px;
        }

        .view-toggle {
            padding: 6px 12px;
            border: 1px solid var(--border-primary);
            background: var(--bg-primary);
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-primary);
        }

        .view-toggle.active {
            background: var(--slds-c-color-brand);
            color: white;
            border-color: var(--slds-c-color-brand);
        }

        .view-toggle:hover:not(.active) {
            border-color: var(--slds-c-color-brand);
        }

        .view-toggle:focus {
            outline: 2px solid var(--slds-c-color-brand);
            outline-offset: 2px;
        }

        .view-toggle:focus:not(:focus-visible) {
            outline: none;
        }

        /* Agentforce Observability Styles */
        .agentforce-container {
            background: var(--bg-primary);
            border-radius: 8px;
            border: 1px solid var(--border-secondary);
            overflow: hidden;
        }

        .agentforce-header {
            padding: 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .agentforce-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10B981;
        }

        .status-indicator.active {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .agentforce-metrics {
            padding: 1.5rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            border-bottom: 1px solid var(--slds-c-color-border);
        }

        .ai-metric-card {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 6px;
            border: 1px solid var(--border-secondary);
            color: var(--text-primary);
        }

        .ai-insights {
            padding: 1.5rem;
        }

        .insight-feed {
            margin-top: 1rem;
        }

        .ai-insight {
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 6px;
            margin-bottom: 0.5rem;
            border-left: 3px solid var(--slds-c-color-brand);
            color: var(--text-primary);
        }

        .insight-time {
            font-size: 0.8rem;
            color: var(--text-weak);
            margin-bottom: 0.5rem;
        }

        .insight-text {
            color: var(--text-primary);
            line-height: 1.5;
        }

        /* Watchlist Item Styles */
        .watchlist-content {
            padding: 1.5rem;
        }

        .watchlist-item {
            background: var(--bg-secondary);
            border: 1px solid var(--border-secondary);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid #ccc;
            transition: all 0.3s ease;
        }

        .watchlist-item.priority-high {
            border-left-color: var(--slds-c-color-error);
        }

        .watchlist-item.priority-medium {
            border-left-color: var(--slds-c-color-warning);
        }

        .watchlist-item.priority-low {
            border-left-color: var(--slds-c-color-success);
        }

        .watchlist-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow-medium);
        }

        .item-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .item-title {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .item-details {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .item-progress {
            font-size: 0.9rem;
            color: var(--text-weak);
            margin-bottom: 1rem;
        }

        .chart-ai-summary {
            background: rgba(1, 118, 211, 0.05);
            border: 1px solid rgba(1, 118, 211, 0.2);
            border-radius: 6px;
            padding: 0.75rem;
            margin-bottom: 0.75rem;
            font-size: 0.875rem;
            color: var(--slds-c-color-text-default);
            font-style: italic;
        }

        .chart-actions-row {
            display: flex;
            gap: 0.75rem;
            align-items: center;
            margin-top: 0.5rem;
        }

        .ask-agentforce-btn, .what-if-btn {
            background: #f8f9fa;
            color: var(--slds-c-color-text-default);
            border: 1px solid #e3e5e8;
            padding: 12px 18px;
            border-radius: 12px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .ask-agentforce-btn:hover, .what-if-btn:hover {
            background: #ffffff;
            border-color: #c9ccd1;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transform: translateY(-1px);
        }

        .ask-agentforce-btn:active, .what-if-btn:active {
            transform: translateY(0);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        /* What-if Analysis Modal Styles */
        .what-if-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 2rem;
        }

        .what-if-modal .modal-content {
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            width: 90%;
            max-width: 900px;
            max-height: 85vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .what-if-modal .modal-header {
            background: linear-gradient(135deg, #0176D3 0%, #0B827C 100%);
            color: white;
            padding: 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .what-if-modal .modal-header h3 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .what-if-modal .close-modal {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }

        .what-if-modal .close-modal:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .what-if-modal .modal-body {
            padding: 2rem;
            overflow-y: auto;
            flex: 1;
        }

        .scenario-section {
            margin-bottom: 2rem;
        }

        .scenario-section h4 {
            color: var(--slds-c-color-text-default);
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .scenario-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .scenario-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .scenario-card:hover {
            border-color: #0176D3;
            box-shadow: 0 8px 16px rgba(1, 118, 211, 0.1);
            transform: translateY(-2px);
        }

        .scenario-card.selected {
            border-color: #0176D3;
            background: rgba(1, 118, 211, 0.05);
        }

        .scenario-card h5 {
            color: var(--slds-c-color-text-default);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .scenario-card p {
            color: #6c757d;
            font-size: 0.875rem;
            margin: 0;
            line-height: 1.5;
        }

        .impact-metrics {
            background: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .impact-metrics h4 {
            color: var(--slds-c-color-text-default);
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .metric-item {
            text-align: left;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #0176D3;
            margin-bottom: 0.25rem;
        }

        .metric-label {
            font-size: 0.75rem;
            color: #6c757d;
            text-transform: uppercase;
            font-weight: 500;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            padding-top: 1.5rem;
            border-top: 1px solid #e9ecef;
        }

        .action-buttons .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-primary {
            background: #0176D3;
            color: white;
        }

        .btn-primary:hover {
            background: #014486;
        }

        /* Enhanced Strategy Board Creator Styles */
        .create-board-modal .modal-content {
            width: 90vw;
            max-width: 1000px;
            max-height: 90vh;
            background: var(--bg-primary);
            border-radius: 16px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .strategy-board-creator .modal-header {
            background: linear-gradient(135deg, var(--slds-c-color-brand) 0%, #4A90E2 100%);
            color: white;
            padding: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .header-icon {
            font-size: 3rem;
            opacity: 0.9;
        }

        .header-text h2 {
            margin: 0;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .header-text p {
            margin: 0.5rem 0 0 0;
            opacity: 0.9;
            font-size: 1rem;
        }

        .close-modal {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .strategy-board-creator .modal-body {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        .creation-steps {
            margin-bottom: 2rem;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-secondary);
            color: var(--text-weak);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            border: 2px solid var(--border-primary);
            transition: all 0.3s ease;
        }

        .step.active .step-number {
            background: var(--slds-c-color-brand);
            color: white;
            border-color: var(--slds-c-color-brand);
        }

        .step.completed .step-number {
            background: var(--slds-c-color-success);
            color: white;
            border-color: var(--slds-c-color-success);
        }

        .step-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .step.active .step-label {
            color: var(--slds-c-color-brand);
            font-weight: 600;
        }

        .step-content {
            display: none;
        }

        .step-content.active {
            display: block;
        }

        .step-title {
            text-align: center;
            margin-bottom: 2rem;
        }

        .step-title h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .step-title p {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .template-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .template-card {
            background: var(--bg-primary);
            border: 2px solid var(--border-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .template-card:hover {
            border-color: var(--slds-c-color-brand);
            box-shadow: 0 8px 25px var(--shadow-medium);
            transform: translateY(-4px);
        }

        .template-card.selected {
            border-color: var(--slds-c-color-brand);
            box-shadow: 0 0 0 3px rgba(1, 118, 211, 0.2);
            background: rgba(1, 118, 211, 0.05);
        }

        .template-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .template-icon {
            font-size: 2.5rem;
            opacity: 0.8;
        }

        .template-badge {
            background: var(--slds-c-color-brand);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .template-content h4 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        .template-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .template-metrics {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .metric {
            font-size: 0.8rem;
            color: var(--text-weak);
        }

        .selected-template-preview {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            border-left: 4px solid var(--slds-c-color-brand);
        }

        .preview-icon {
            font-size: 2rem;
        }

        .preview-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--text-primary);
        }

        .preview-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin: 0;
        }

        .details-form {
            max-width: 800px;
            margin: 0 auto;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 0.75rem;
            border: 2px solid var(--border-primary);
            border-radius: 8px;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--slds-c-color-brand);
            box-shadow: 0 0 0 3px rgba(1, 118, 211, 0.1);
        }

        .form-group small {
            margin-top: 0.5rem;
            color: var(--text-weak);
            font-size: 0.8rem;
        }

        .ai-analysis-preview {
            max-width: 800px;
            margin: 0 auto;
        }

        .analysis-loading {
            text-align: center;
            padding: 3rem 2rem;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--border-primary);
            border-top: 4px solid var(--slds-c-color-brand);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 2rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .analysis-loading p {
            font-size: 1.1rem;
            color: var(--text-primary);
            margin-bottom: 2rem;
        }

        .loading-steps {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            max-width: 300px;
            margin: 0 auto;
        }

        .loading-step {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .loading-step.completed {
            background: rgba(4, 132, 75, 0.1);
            color: var(--slds-c-color-success);
        }

        .loading-step.active {
            background: rgba(1, 118, 211, 0.1);
            color: var(--slds-c-color-brand);
        }

        .ai-insights h4 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            text-align: center;
        }

        .insight-card {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 4px solid var(--slds-c-color-brand);
        }

        .insight-icon {
            font-size: 1.5rem;
            margin-top: 0.25rem;
        }

        .insight-content h5 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .insight-content p {
            color: var(--text-secondary);
            margin: 0;
            line-height: 1.5;
        }

        .modal-footer {
            background: var(--bg-secondary);
            padding: 1.5rem 2rem;
            border-top: 1px solid var(--border-primary);
        }

        .footer-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            align-items: center;
        }

        .btn-secondary, .btn-primary, .btn-back {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .btn-secondary {
            background: var(--bg-primary);
            color: var(--text-primary);
            border: 2px solid var(--border-primary);
        }

        .btn-secondary:hover {
            background: var(--bg-secondary);
            border-color: var(--slds-c-color-brand);
        }

        .btn-primary, .btn-back {
            background: var(--slds-c-color-brand);
            color: white;
        }

        .btn-primary:hover, .btn-back:hover {
            background: #014486;
            transform: translateY(-1px);
        }

        /* Strategy Board Grid Styles */
        .strategy-boards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
            padding: 1rem 0;
        }

        .strategy-board-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 2px 8px var(--shadow-light);
        }

        .strategy-board-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px var(--shadow-medium);
            border-color: var(--slds-c-color-brand);
        }

        .strategy-board-card .board-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .strategy-board-card .board-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.3;
            max-width: 200px;
        }

        .board-status-indicator {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 1rem;
            display: inline-block;
        }

        .board-status-indicator.on-track {
            background: rgba(4, 132, 75, 0.1);
            color: var(--slds-c-color-success);
        }

        .board-status-indicator.needs-attention {
            background: rgba(255, 183, 27, 0.1);
            color: var(--slds-c-color-warning);
        }

        .board-status-indicator.exceeding {
            background: rgba(4, 132, 75, 0.1);
            color: var(--slds-c-color-success);
        }

        .board-status-indicator.ahead {
            background: rgba(1, 118, 211, 0.1);
            color: var(--slds-c-color-brand);
        }

        .strategy-board-card .progress-bar {
            position: relative;
            background: var(--bg-secondary);
            height: 8px;
            border-radius: 4px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .strategy-board-card .progress-fill {
            height: 100%;
            background: var(--slds-c-color-brand);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .progress-text {
            position: absolute;
            right: 0;
            top: -24px;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .strategy-board-card .board-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .strategy-board-card .metric-item {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            text-align: left;
        }

        .strategy-board-card .metric-label {
            font-size: 0.75rem;
            color: var(--text-weak);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .strategy-board-card .metric-value {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .board-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid var(--border-secondary);
            margin-top: auto;
        }

        .timeline {
            font-size: 0.8rem;
            color: var(--text-secondary);
            background: var(--bg-secondary);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }

        .owner {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--slds-c-color-brand);
            background: rgba(1, 118, 211, 0.1);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .create-board-modal .modal-content {
                width: 95vw;
                max-height: 95vh;
            }

            .strategy-board-creator .modal-header {
                padding: 1.5rem;
            }

            .header-content {
                gap: 1rem;
            }

            .header-icon {
                font-size: 2rem;
            }

            .step-indicator {
                gap: 1rem;
            }

            .template-gallery {
                grid-template-columns: 1fr;
            }

            .form-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .footer-actions {
                flex-wrap: wrap;
                justify-content: center;
            }

            .strategy-boards-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        /* Watchlist View Styles */
        .watchlist-view {
            display: none;
        }

        .watchlist-view.active {
            display: block;
        }

        /* Table View Styles */
        .table-container {
            overflow-x: auto;
            background: var(--bg-primary);
            border-radius: 8px;
            border: 1px solid var(--border-secondary);
        }

        .watchlist-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .watchlist-table thead {
            background: var(--bg-secondary);
            border-bottom: 2px solid var(--border-primary);
        }

        .watchlist-table th {
            text-align: left;
            padding: 1rem 0.75rem;
            font-weight: 600;
            color: var(--text-primary);
            border-right: 1px solid var(--border-secondary);
        }

        .watchlist-table th:last-child {
            border-right: none;
        }

        .watchlist-table tbody tr {
            border-bottom: 1px solid var(--border-secondary);
            transition: background-color 0.2s ease;
        }

        .watchlist-table tbody tr:hover {
            background: rgba(1, 118, 211, 0.05);
        }

        .watchlist-table td {
            padding: 0.75rem;
            vertical-align: top;
            border-right: 1px solid var(--border-secondary);
        }

        .watchlist-table td:last-child {
            border-right: none;
        }

        .initiative-cell {
            min-width: 200px;
        }

        .initiative-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .initiative-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.3;
        }

        .progress-cell {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            min-width: 80px;
        }

        .progress-bar-mini {
            flex: 1;
            height: 6px;
            background: var(--bg-secondary);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill-mini {
            height: 100%;
            background: var(--slds-c-color-brand);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .progress-text-mini {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-secondary);
            min-width: 30px;
        }

        .status-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-badge.critical {
            background: rgba(194, 57, 52, 0.1);
            color: var(--slds-c-color-error);
        }

        .status-badge.on-track {
            background: rgba(4, 132, 75, 0.1);
            color: var(--slds-c-color-success);
        }

        .status-badge.ahead {
            background: rgba(1, 118, 211, 0.1);
            color: var(--slds-c-color-brand);
        }

        .status-badge.behind {
            background: rgba(255, 183, 27, 0.1);
            color: var(--slds-c-color-warning);
        }

        .action-btn {
            background: var(--bg-secondary);
            border: 1px solid var(--border-primary);
            border-radius: 6px;
            padding: 0.25rem 0.5rem;
            margin: 0 0.25rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .action-btn:hover {
            background: var(--slds-c-color-brand);
            color: white;
            border-color: var(--slds-c-color-brand);
        }

        /* Kanban View Styles */
        .kanban-container {
            display: flex;
            gap: 1.5rem;
            overflow-x: auto;
            padding: 1rem 0;
        }

        .kanban-column {
            min-width: 280px;
            background: var(--bg-secondary);
            border-radius: 8px;
            border: 1px solid var(--border-secondary);
        }

        .kanban-header {
            padding: 1rem;
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .kanban-header h4 {
            margin: 0;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .item-count {
            background: var(--slds-c-color-brand);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .kanban-items {
            padding: 1rem;
            min-height: 200px;
        }

        .kanban-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-secondary);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            cursor: move;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px var(--shadow-light);
        }

        .kanban-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow-medium);
        }

        .kanban-card:last-child {
            margin-bottom: 0;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.75rem;
        }

        .card-title {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9rem;
            line-height: 1.3;
            flex: 1;
            margin-right: 0.5rem;
        }

        .card-category {
            margin-bottom: 0.75rem;
        }

        .card-progress {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .owner {
            font-weight: 600;
            color: var(--slds-c-color-brand);
        }

        .due-date {
            color: var(--text-weak);
        }

        .ask-agentforce-btn-mini {
            background: var(--slds-c-color-brand);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.5rem;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
            width: 100%;
        }

        .ask-agentforce-btn-mini:hover {
            background: #014486;
        }

        /* Gantt View Styles */
        .gantt-container {
            background: var(--bg-primary);
            border: 1px solid var(--border-secondary);
            border-radius: 8px;
            overflow: hidden;
        }

        .gantt-header {
            display: grid;
            grid-template-columns: 250px 1fr;
            background: var(--bg-secondary);
            border-bottom: 2px solid var(--border-primary);
        }

        .gantt-task-column {
            padding: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            border-right: 1px solid var(--border-primary);
        }

        .gantt-timeline {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
        }

        .timeline-month {
            padding: 1rem;
            text-align: center;
            font-weight: 600;
            color: var(--text-primary);
            border-right: 1px solid var(--border-secondary);
        }

        .timeline-month:last-child {
            border-right: none;
        }

        .gantt-body {
            max-height: 400px;
            overflow-y: auto;
        }

        .gantt-row {
            display: grid;
            grid-template-columns: 250px 1fr;
            border-bottom: 1px solid var(--border-secondary);
            min-height: 60px;
        }

        .gantt-row:hover {
            background: rgba(1, 118, 211, 0.05);
        }

        .gantt-task-info {
            padding: 1rem;
            border-right: 1px solid var(--border-primary);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .task-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
            font-size: 0.9rem;
        }

        .task-owner {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .gantt-timeline-row {
            position: relative;
            padding: 1rem;
            display: flex;
            align-items: center;
        }

        .gantt-bar {
            position: relative;
            height: 24px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 60px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .gantt-bar.urgent {
            border: 2px solid #c23934;
        }

        .gantt-bar.high {
            border: 2px solid #0176d3;
        }

        .gantt-bar.medium {
            border: 2px solid #04844b;
        }

        .gantt-bar.critical {
            border: 2px solid #c23934;
        }

        .bar-label {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--text-primary);
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
        }

        .insights-grid, .collaboration-tools {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1rem;
        }

        .insight-card, .collab-card {
            background: white;
            border: 1px solid var(--slds-c-color-border);
            border-radius: 8px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .insight-card:hover, .collab-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }

        .insight-header, .collab-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .insight-title, .collab-title {
            font-weight: 600;
            font-size: 1rem;
        }

        .insight-content, .collab-content {
            margin-bottom: 1rem;
            color: #706E6B;
            line-height: 1.6;
        }

        /* Strategy Actions */
        .strategy-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .strategy-actions .what-if-btn,
        .strategy-actions .ask-agentforce-btn {
            flex: 1;
            font-size: 0.75rem;
            padding: 0.5rem;
        }

        @media (max-width: 1200px) {
            .content-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 1rem;
            }
            
            .kpi-grid {
                grid-template-columns: 1fr;
            }
            
            .tab-button {
                padding: 0.75rem 1rem;
                font-size: 0.875rem;
            }
        }

        /* Vision Command Center - Predictive Intelligence Panel */
        .vision-predictive-panel {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .predictive-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .predictive-header h3 {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
        }

        .ai-status {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .ai-indicator {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .ai-indicator.active {
            background: var(--vision-success);
            color: #000;
            font-weight: 700;
            animation: auto-pulse 3s infinite;
        }

        @keyframes pulse-ai {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        .neural-activity {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
            font-weight: 500;
        }

        @keyframes neural-pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        .predictive-insights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .insight-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            min-height: 140px;
            padding-bottom: 4rem;
        }

        .insight-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .insight-card.crisis-prevention {
            border-left-color: var(--vision-danger);
        }

        .insight-card.market-opportunity {
            border-left-color: var(--vision-success);
        }

        .insight-card.journey-optimization {
            border-left-color: var(--vision-accent);
        }

        .insight-card.competitive-intel {
            border-left-color: var(--vision-warning);
        }

        .insight-card-layout {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            height: 100%;
        }

        .insight-icon {
            font-size: 2rem;
            width: 3rem;
            height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: var(--vision-hologram);
            flex-shrink: 0;
        }

        .insight-content {
            flex: 1;
        }

        .insight-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: white;
            margin-bottom: 0.5rem;
        }

        .insight-description {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.4;
            margin-bottom: 0.75rem;
        }

        .insight-confidence {
            font-size: 0.8rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
        }

        .insight-action {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: absolute;
            bottom: 1rem;
            right: 1rem;
        }

        .insight-action:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        /* Vision Command Center - Autonomous Operations Panel */
        .vision-autonomous-panel {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .autonomous-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .autonomous-header h3 {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
        }

        .autonomous-status {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .auto-indicator {
            background: var(--vision-success);
            color: #000;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 700;
            animation: auto-pulse 3s infinite;
        }

        @keyframes auto-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .systems-count {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
            font-weight: 500;
        }

        .autonomous-systems {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .system-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            position: relative;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            min-height: 120px;
            padding-bottom: 3.5rem;
        }

        .system-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .system-card-layout {
            display: flex;
            align-items: center;
            gap: 1rem;
            height: 100%;
        }

        .system-icon {
            font-size: 2rem;
            width: 3rem;
            height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
        }

        .system-info {
            flex: 1;
        }

        .system-title {
            color: white;
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .system-status {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .system-metric {
            color: var(--vision-success);
            font-size: 0.875rem;
            font-weight: 600;
        }

        .system-actions {
            flex-shrink: 0;
        }

        .system-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: absolute;
            bottom: 1rem;
            right: 1rem;
        }

        .system-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        /* Vision Command Center - Industry Leadership Panel */
        .vision-industry-panel {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .industry-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .industry-header h3 {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
        }

        .leadership-status {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .leadership-indicator {
            background: var(--vision-success);
            color: #000;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 700;
            animation: auto-pulse 3s infinite;
        }

        @keyframes leadership-glow {
            0%, 100% { box-shadow: 0 0 10px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.6); }
        }

        .ecosystem-count {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
            font-weight: 500;
        }

        .industry-sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .industry-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .industry-section:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .section-header h4 {
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 0;
        }

        .section-action {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .section-action:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .partner-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .partner-card {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .partner-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .partner-icon {
            font-size: 1.5rem;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        .partner-info {
            flex: 1;
        }

        .partner-title {
            color: white;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .partner-count {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .partner-status {
            color: var(--vision-success);
            font-size: 0.75rem;
            font-weight: 500;
        }

        .benchmark-metrics, .global-metrics {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .benchmark-item, .global-region {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .benchmark-label, .region-name {
            color: white;
            font-weight: 500;
            flex: 1;
        }

        .benchmark-value, .region-status {
            color: var(--vision-success);
            font-weight: 600;
            margin: 0 1rem;
        }

        .benchmark-trend, .region-growth {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
        }

        .innovation-pipeline {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .innovation-item {
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .innovation-title {
            color: white;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .innovation-stage {
            color: var(--vision-accent);
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .innovation-impact {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.875rem;
        }

        /* Floating Agentforce Assistant */
        .agentforce-floating {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 2000;
        }

        .agentforce-toggle {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            position: relative;
            overflow: hidden;
        }

        .agentforce-toggle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .agentforce-toggle:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
        }

        .agentforce-toggle:hover::before {
            opacity: 1;
        }

        .agentforce-toggle.active {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
        }

        .agentforce-toggle.active:hover {
            box-shadow: 0 12px 32px rgba(16, 185, 129, 0.4);
        }

        .agentforce-pulse {
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            opacity: 0.3;
            animation: pulse-ring 2s infinite;
        }

        @keyframes pulse-ring {
            0% {
                transform: scale(1);
                opacity: 0.3;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.1;
            }
            100% {
                transform: scale(1.2);
                opacity: 0;
            }
        }

        .agentforce-notification {
            position: absolute;
            top: -8px;
            right: -8px;
            width: 24px;
            height: 24px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            border: 2px solid white;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% {
                transform: translateY(0);
            }
            40%, 43% {
                transform: translateY(-8px);
            }
            70% {
                transform: translateY(-4px);
            }
        }

        .agentforce-chat-container {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 400px;
            height: 600px;
            background: var(--bg-primary);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            border: 1px solid var(--border-secondary);
            transform: translateY(20px) scale(0.95);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
        }

        .agentforce-chat-container.open {
            transform: translateY(0) scale(1);
            opacity: 1;
            visibility: visible;
        }

        .enhanced-chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 20px 20px 0 0;
            position: relative;
            overflow: hidden;
        }

        .enhanced-chat-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .chat-header-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .agentforce-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            backdrop-filter: blur(10px);
        }

        .chat-header-text h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .chat-header-text .ai-status {
            font-size: 0.8rem;
            opacity: 0.9;
            margin-top: 2px;
        }

        .chat-minimize {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: background-color 0.2s ease;
        }

        .chat-minimize:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .enhanced-chat-conversation {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            overflow-x: hidden;
            background: linear-gradient(to bottom, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            position: relative;
            max-height: calc(600px - 200px);
            min-height: 300px;
            scroll-behavior: smooth;
        }

        .enhanced-chat-conversation::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 20px;
            background: linear-gradient(to bottom, var(--bg-primary), transparent);
            pointer-events: none;
            z-index: 1;
        }

        /* Custom scrollbar for chat conversation */
        .enhanced-chat-conversation::-webkit-scrollbar {
            width: 6px;
        }

        .enhanced-chat-conversation::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 3px;
        }

        .enhanced-chat-conversation::-webkit-scrollbar-thumb {
            background: var(--border-primary);
            border-radius: 3px;
            transition: background 0.2s ease;
        }

        .enhanced-chat-conversation::-webkit-scrollbar-thumb:hover {
            background: var(--slds-c-color-brand);
        }

        .enhanced-chat-message {
            margin-bottom: 1.5rem;
            display: flex;
            flex-direction: column;
            animation: messageSlideIn 0.3s ease-out;
        }

        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .enhanced-chat-message.user {
            align-items: flex-end;
        }

        .enhanced-chat-message.ai {
            align-items: flex-start;
        }

        .enhanced-message-bubble {
            max-width: 85%;
            padding: 1rem 1.25rem;
            border-radius: 20px;
            font-size: 0.9rem;
            line-height: 1.5;
            position: relative;
            word-wrap: break-word;
        }

        .enhanced-message-bubble.user {
            background: linear-gradient(135deg, var(--slds-c-color-brand) 0%, #014486 100%);
            color: white;
            border-bottom-right-radius: 8px;
        }

        .enhanced-message-bubble.ai {
            background: var(--bg-primary);
            color: var(--text-primary);
            border: 1px solid var(--border-primary);
            border-bottom-left-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .enhanced-message-timestamp {
            font-size: 0.7rem;
            color: var(--text-weak);
            margin-top: 0.5rem;
            opacity: 0.7;
        }

        .enhanced-typing-indicator {
            display: none;
            align-items: center;
            gap: 0.75rem;
            color: var(--text-weak);
            font-style: italic;
            margin-bottom: 1rem;
            padding: 0 0.5rem;
        }

        .enhanced-typing-dots {
            display: flex;
            gap: 3px;
        }

        .enhanced-typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--slds-c-color-brand);
            animation: typingBounce 1.4s infinite;
        }

        .enhanced-typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .enhanced-typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingBounce {
            0%, 60%, 100% { 
                transform: translateY(0);
                opacity: 0.4;
            }
            30% { 
                transform: translateY(-8px);
                opacity: 1;
            }
        }

        .enhanced-chat-input-container {
            padding: 1.5rem;
            border-top: 1px solid var(--border-primary);
            background: var(--bg-primary);
            border-radius: 0 0 20px 20px;
        }

        .enhanced-suggestion-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .enhanced-suggestion-chip {
            background: var(--bg-secondary);
            border: 1px solid var(--border-primary);
            border-radius: 16px;
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .enhanced-suggestion-chip:hover {
            background: var(--slds-c-color-brand);
            color: white;
            transform: translateY(-1px);
        }

        .enhanced-input-wrapper {
            position: relative;
            display: flex;
            align-items: end;
            gap: 0.75rem;
        }

        .enhanced-chat-input {
            flex: 1;
            padding: 0.875rem 1rem;
            border: 2px solid var(--border-primary);
            border-radius: 12px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            resize: none;
            font-family: inherit;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            min-height: 44px;
            max-height: 120px;
        }

        .enhanced-chat-input:focus {
            outline: none;
            border-color: var(--slds-c-color-brand);
            background: var(--bg-primary);
            box-shadow: 0 0 0 3px rgba(1, 118, 211, 0.1);
        }

        .enhanced-send-btn {
            background: var(--slds-c-color-brand);
            color: white;
            border: none;
            padding: 0.875rem;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 44px;
            height: 44px;
        }

        .enhanced-send-btn:hover {
            background: #014486;
            transform: translateY(-1px);
        }

        .enhanced-send-btn:disabled {
            background: var(--text-weak);
            cursor: not-allowed;
            transform: none;
        }

        @media (max-width: 1200px) {
            .agentforce-chat-container {
                width: 350px;
                height: 550px;
            }
        }

        @media (max-width: 768px) {
            .agentforce-floating {
                bottom: 1rem;
                right: 1rem;
            }
            
            .agentforce-toggle {
                width: 56px;
                height: 56px;
                font-size: 20px;
            }
            
            .agentforce-chat-container {
                width: calc(100vw - 2rem);
                height: 500px;
                bottom: 70px;
                right: -1rem;
                left: 1rem;
            }
        }

        @media (max-width: 480px) {
            .agentforce-chat-container {
                height: 450px;
            }
            
            .enhanced-chat-input-container {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">
            <img class="salesforce-logo" src="Salesforce logo.webp" alt="Salesforce Logo" width="32" height="32" />
            <div class="logo-text">
                <div class="logo-primary">Vision Command Center</div>
                <div class="logo-secondary">Service VP</div>
            </div>
        </div>
         <div class="header-nav">
             <div class="header-tab-navigation">
                 <button class="header-tab-button active" data-tab="glance">Glance</button>
                 <button class="header-tab-button" data-tab="monitor">Monitor</button>
                 <button class="header-tab-button" data-tab="act">Act</button>
             </div>
         </div>
        <div class="user-info">
            <div style="width: 40px; height: 40px; background: var(--slds-c-color-brand); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">VP</div>
        </div>
    </header>

    <div class="main-container">
        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-button active" data-tab="glance">ðŸ”´ Glance</button>
            <button class="tab-button" data-tab="monitor">ðŸ“Š Monitor</button>
            <button class="tab-button" data-tab="act">ðŸŽ¯ Act</button>
        </div>

        <!-- Glance Tab Content -->
        <div class="tab-content active" id="glance">
            <!-- Predictive Intelligence Panel -->
            <div class="vision-predictive-panel">
                <div class="predictive-header">
                    <h3>ðŸ”® Predictive Intelligence Center</h3>
                    <div class="ai-status">
                        <span class="ai-indicator active">AI Active</span>
                        <span class="neural-activity">Neural Processing</span>
                    </div>
                </div>
                <div class="predictive-insights">
                    <div class="insight-card crisis-prevention">
                        <div class="insight-card-layout">
                            <div class="insight-icon">âš¡</div>
                            <div class="insight-content">
                                <div class="insight-title">Service Capacity Risk Alert</div>
                                <div class="insight-description">RF-9000X support cases surging 89%. Current response time 4.2hrs vs 2hr target. Immediate capacity expansion needed.</div>
                                <div class="insight-confidence">Confidence: 97%</div>
                            </div>
                        </div>
                        <button class="insight-action">Scale Team</button>
                    </div>
                    <div class="insight-card market-opportunity">
                        <div class="insight-card-layout">
                            <div class="insight-icon">ðŸŽ¯</div>
                            <div class="insight-content">
                                <div class="insight-title">Proactive Service Opportunity</div>
                                <div class="insight-description">73% of RF-9000X issues resolve with remote patch. Deploy proactive fix to remaining 12,000 units before customer calls.</div>
                                <div class="insight-confidence">Confidence: 91%</div>
                            </div>
                        </div>
                        <button class="insight-action">Deploy</button>
                    </div>
                    <div class="insight-card journey-optimization">
                        <div class="insight-card-layout">
                            <div class="insight-icon">ðŸš€</div>
                            <div class="insight-content">
                                <div class="insight-title">Customer Recovery Program</div>
                                <div class="insight-description">156 RF-9000X customers identified for priority outreach. Proactive service can convert 89% to brand advocates.</div>
                                <div class="insight-confidence">Confidence: 94%</div>
                            </div>
                        </div>
                        <button class="insight-action">Launch</button>
                    </div>
                    <div class="insight-card competitive-intel">
                        <div class="insight-card-layout">
                            <div class="insight-icon">ðŸŽ­</div>
                            <div class="insight-content">
                                <div class="insight-title">Competitive Intelligence</div>
                                <div class="insight-description">Real-time analysis shows competitor vulnerability in smart home segment. Action window: 14 days</div>
                                <div class="insight-confidence">Confidence: 89%</div>
                            </div>
                        </div>
                        <button class="insight-action">Strike</button>
                    </div>
                </div>
            </div>

            <div class="content-grid">
                <div class="panel live-feed">
                    <div class="panel-header">
                        Activity Feed
                    </div>
                    <div class="panel-content">
                        <div class="feed-item critical selected" data-alert-id="1" 
                             tabindex="0" role="button" aria-label="Critical alert: RF-9000X Service Crisis, 2 minutes ago">
                            <div class="feed-timestamp">
                                2 min ago
                                <span class="tag urgent">CRITICAL</span>
                            </div>
                            <div class="feed-title">RF-9000X Service Crisis</div>
                            <div class="feed-description">347 new support cases in 2 hours. Response time 4.2hrs vs 2hr target. CSAT down to 2.1/5. Emergency response team needed.</div>
                        </div>

                        <div class="feed-item critical" data-alert-id="2">
                            <div class="feed-timestamp">
                                15 min ago
                                <span class="tag urgent">CRITICAL</span>
                            </div>
                            <div class="feed-title">First Call Resolution Drop</div>
                            <div class="feed-description">FCR rate dropped to 23% (target: 78%). 156 field service visits required. Customer satisfaction at critical level.</div>
                        </div>

                        <div class="feed-item opportunity" data-alert-id="3">
                            <div class="feed-timestamp">
                                1 hour ago
                                <span class="tag ai">OPPORTUNITY</span>
                            </div>
                            <div class="feed-title">AI Productivity Breakthrough</div>
                            <div class="feed-description">AI agents achieved $500K cost savings this quarter, 23% ahead of target with 340% ROI and 78% automation rate.</div>
                        </div>

                        <div class="feed-item warning" data-alert-id="4">
                            <div class="feed-timestamp">
                                2 hours ago
                                <span class="tag high">HIGH</span>
                            </div>
                            <div class="feed-title">Market Expansion Opportunity</div>
                            <div class="feed-description">AI identified 34% growth potential in EMEA based on competitor analysis. $890M market size requires $2.1M investment.</div>
                        </div>

                        <div class="feed-item info" data-alert-id="5">
                            <div class="feed-timestamp">
                                3 hours ago
                                <span class="tag sustainability">INFO</span>
                            </div>
                            <div class="feed-title">ESG Milestone Achievement</div>
                            <div class="feed-description">Carbon neutrality goal achieved 6 months ahead of schedule with $1.2M cost savings and A+ ESG score.</div>
                        </div>
                    </div>
                </div>

                <!-- Alert Detail Panel -->
                <div class="alert-detail-panel">
                    <div class="alert-detail-content">
                        <div class="alert-detail-empty" style="display: none;">
                            Select an alert from the Intelligence Feed to view comprehensive analysis and strategic recommendations.
                        </div>
                        
                        <!-- Comprehensive Alert Details Template -->
                        <div class="alert-detail-full">
                            <div class="alert-detail-title">
                                <h2 id="alert-title">RF-9000X Service Crisis</h2>
                                <div class="alert-severity critical">CRITICAL</div>
                            </div>
                            
                            <div class="alert-description">
                                <p id="alert-description">347 new support cases in 2 hours. Response time 4.2hrs vs 2hr target. CSAT down to 2.1/5. Emergency response team needed.</p>
                            </div>
                            
                            <!-- Critical Metrics & Customer Signals -->
                            <div class="affected-metrics-section">
                                <h3>ðŸŽ¯ Critical Metrics & Customer Signals <span class="interaction-hint">(Click any metric to see cross-cloud impact)</span></h3>
                                <div class="metrics-grid critical-metrics-grid">
                                    <!-- Affected Metrics -->
                                    <div class="metric-card clickable-metric" data-metric="customer-satisfaction" onclick="showPropagation('customer-satisfaction')">
                                        <div class="cloud-logos">
                                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                                        </div>
                                        <div class="metric-header">
                                            <div class="metric-title">CUSTOMER SATISFACTION</div>
                                        </div>
                                        <div class="metric-value">2.1/5</div>
                                        <div class="metric-chart-container">
                                            <canvas id="chart-customer-satisfaction-vp" class="metric-chart"></canvas>
                                        </div>
                                        <div class="metric-change negative">-50% vs target (4.2/5)</div>
                                        <button class="metric-hover-btn" onclick="event.stopPropagation()">ðŸ¤– Ask Agentforce</button>
                                    </div>

                                    <div class="metric-card clickable-metric" data-metric="service-resolution" onclick="showPropagation('service-resolution')">
                                        <div class="cloud-logos">
                                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                                        </div>
                                        <div class="metric-header">
                                            <div class="metric-title">SERVICE RESOLUTION TIME</div>
                                        </div>
                                        <div class="metric-value">4.2 hrs</div>
                                        <div class="metric-chart-container">
                                            <canvas id="chart-service-resolution-vp" class="metric-chart"></canvas>
                                        </div>
                                        <div class="metric-change negative">+45% increase</div>
                                        <button class="metric-hover-btn" onclick="event.stopPropagation()">ðŸ¤– Ask Agentforce</button>
                                    </div>

                                    <div class="metric-card clickable-metric" data-metric="first-contact-resolution" onclick="showPropagation('first-contact-resolution')">
                                        <div class="cloud-logos">
                                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                                        </div>
                                        <div class="metric-header">
                                            <div class="metric-title">FIRST CONTACT RESOLUTION</div>
                                        </div>
                                        <div class="metric-value">23%</div>
                                        <div class="metric-chart-container">
                                            <canvas id="chart-first-contact-resolution-vp" class="metric-chart"></canvas>
                                        </div>
                                        <div class="metric-change negative">-55% vs target (78%)</div>
                                        <button class="metric-hover-btn" onclick="event.stopPropagation()">ðŸ¤– Ask Agentforce</button>
                                    </div>

                                    <div class="metric-card clickable-metric" data-metric="customer-lifetime-value-affected" onclick="showPropagation('customer-lifetime-value-affected')">
                                        <div class="cloud-logos">
                                            <div class="cloud-logo"><img src="../Icons/Sales.png" alt="Sales Cloud" /></div>
                                            <div class="cloud-logo"><img src="../Icons/Revenue.png" alt="Revenue Cloud" /></div>
                                        </div>
                                        <div class="metric-header">
                                            <div class="metric-title">CUSTOMER LIFETIME VALUE</div>
                                        </div>
                                        <div class="metric-value">$10.3K</div>
                                        <div class="metric-chart-container">
                                            <canvas id="chart-customer-lifetime-value-vp" class="metric-chart"></canvas>
                                        </div>
                                        <div class="metric-change negative">-15% decline</div>
                                        <button class="metric-hover-btn" onclick="event.stopPropagation()">ðŸ¤– Ask Agentforce</button>
                                    </div>

                                    <div class="metric-card clickable-metric" data-metric="nps-affected" onclick="showPropagation('nps-affected')">
                                        <div class="cloud-logos">
                                            <div class="cloud-logo csi">CSI</div>
                                        </div>
                                        <div class="metric-header">
                                            <div class="metric-title">NET PROMOTER SCORE</div>
                                        </div>
                                        <div class="metric-value">42</div>
                                        <div class="metric-chart-container">
                                            <canvas id="chart-nps-vp" class="metric-chart"></canvas>
                                        </div>
                                        <div class="metric-change negative">-18 points</div>
                                        <button class="metric-hover-btn" onclick="event.stopPropagation()">ðŸ¤– Ask Agentforce</button>
                                    </div>

                                    <!-- Critical Customer Signal Metrics -->
                                    <div class="metric-card clickable-metric" data-metric="enterprise-escalations" onclick="showPropagation('enterprise-escalations')">
                                        <div class="cloud-logos">
                                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                                        </div>
                                        <div class="metric-header">
                                            <div class="metric-title">ENTERPRISE ESCALATIONS</div>
                                        </div>
                                        <div class="metric-value">47</div>
                                        <div class="metric-chart-container">
                                            <canvas id="chart-enterprise-escalations-vp" class="metric-chart"></canvas>
                                        </div>
                                        <div class="metric-change negative">+156% this week</div>
                                        <button class="metric-hover-btn" onclick="event.stopPropagation()">ðŸ¤– Ask Agentforce</button>
                                    </div>

                                    <div class="metric-card clickable-metric" data-metric="churn-risk-accounts" onclick="showPropagation('churn-risk-accounts')">
                                        <div class="cloud-logos">
                                            <div class="cloud-logo"><img src="../Icons/Sales.png" alt="Sales Cloud" /></div>
                                            <div class="cloud-logo"><img src="../Icons/Revenue.png" alt="Revenue Cloud" /></div>
                                        </div>
                                        <div class="metric-header">
                                            <div class="metric-title">CHURN RISK ACCOUNTS</div>
                                        </div>
                                        <div class="metric-value">23</div>
                                        <div class="metric-chart-container">
                                            <canvas id="chart-churn-risk-vp" class="metric-chart"></canvas>
                                        </div>
                                        <div class="metric-change negative">$4.2M ARR at risk</div>
                                        <button class="metric-hover-btn" onclick="event.stopPropagation()">ðŸ¤– Ask Agentforce</button>
                                    </div>

                                    <div class="metric-card clickable-metric" data-metric="social-sentiment" onclick="showPropagation('social-sentiment')">
                                        <div class="cloud-logos">
                                            <div class="cloud-logo"><img src="../Icons/Marketing.png" alt="Marketing Cloud" /></div>
                                            <div class="cloud-logo csi">CSI</div>
                                        </div>
                                        <div class="metric-header">
                                            <div class="metric-title">SOCIAL SENTIMENT</div>
                                        </div>
                                        <div class="metric-value">-34%</div>
                                        <div class="metric-chart-container">
                                            <canvas id="chart-social-sentiment-vp" class="metric-chart"></canvas>
                                        </div>
                                        <div class="metric-change negative">Trending negative</div>
                                        <button class="metric-hover-btn" onclick="event.stopPropagation()">ðŸ¤– Ask Agentforce</button>
                                    </div>
                                </div>

                                <!-- Dynamic Cross-Cloud Impact Propagation -->
                                <div id="propagation-container" class="propagation-container" style="display: none;">
                                    <div class="propagation-header">
                                        <h4 id="propagation-title">ðŸ”„ Cross-Cloud Impact Propagation</h4>
                                        <button class="close-propagation" onclick="hidePropagation()">âœ•</button>
                                    </div>
                                    <div id="propagation-content" class="propagation-content">
                                        <!-- Dynamic content will be inserted here -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Impact Analysis and Root Causes -->
                            <div class="impact-analysis-section">
                                <h3>ðŸ“Š Impact Analysis & Root Causes</h3>
                                <div class="analysis-grid">
                                    <div class="impact-analysis">
                                        <h4>Business Impact</h4>
                                        <ul>
                                            <li>Revenue at Risk: $4.2M (12% of quarterly target)</li>
                                            <li>Customer Retention Risk: 23 enterprise accounts</li>
                                            <li>Brand Reputation: -34% sentiment shift</li>
                                            <li>Team Morale: Support team burnout indicators</li>
                                        </ul>
                                    </div>
                                    <div class="root-causes">
                                        <h4>Root Causes Identified</h4>
                                        <ul>
                                            <li>System Performance: 47% increase in response times</li>
                                            <li>Staffing Gap: 15% understaffed in Tier 2 support</li>
                                            <li>Process Breakdown: Knowledge base 67% outdated</li>
                                            <li>Training Gap: New product features not covered</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Recommended Actions -->
                            <div class="recommended-actions-section">
                                <h3>ðŸŽ¯ Recommended Actions</h3>
                                <div class="actions-list">
                                    <div class="action-item priority-high">
                                        <div class="action-content">
                                            <div class="action-header">
                                                <span class="action-title">Emergency Response Team</span>
                                                <span class="action-priority">HIGH</span>
                                            </div>
                                            <div class="action-description">Activate emergency response protocol for enterprise customers</div>
                                        </div>
                                        <div class="action-ctas">
                                            <button class="action-cta primary" data-action="emergency-response">Activate Now</button>
                                            <button class="action-cta secondary" data-action="schedule-later">Schedule</button>
                                        </div>
                                    </div>
                                    
                                    <div class="action-item priority-medium">
                                        <div class="action-content">
                                            <div class="action-header">
                                                <span class="action-title">Resource Allocation</span>
                                                <span class="action-priority">MEDIUM</span>
                                            </div>
                                            <div class="action-description">Deploy additional Tier 2 support agents and expedite hiring</div>
                                        </div>
                                        <div class="action-ctas">
                                            <button class="action-cta primary" data-action="resource-allocation">Approve Resources</button>
                                            <button class="action-cta secondary" data-action="review-budget">Review Budget</button>
                                        </div>
                                    </div>
                                    
                                    <div class="action-item priority-medium">
                                        <div class="action-content">
                                            <div class="action-header">
                                                <span class="action-title">Knowledge Base Update</span>
                                                <span class="action-priority">MEDIUM</span>
                                            </div>
                                            <div class="action-description">Immediate update of knowledge base and training materials</div>
                                        </div>
                                        <div class="action-ctas">
                                            <button class="action-cta primary" data-action="update-kb">Start Update</button>
                                            <button class="action-cta secondary" data-action="assign-team">Assign Team</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Key Stakeholders -->
                            <div class="stakeholders-section">
                                <h3>ðŸ‘¥ Key Stakeholders</h3>
                                <div class="stakeholders-grid">
                                    <div class="stakeholder-card">
                                        <div class="stakeholder-info">
                                            <div class="stakeholder-name">Sarah Chen</div>
                                            <div class="stakeholder-role">VP of Customer Success</div>
                                        </div>
                                        <div class="stakeholder-actions">
                                            <button class="slack-dm" data-user="sarah.chen">ðŸ’¬ DM</button>
                                            <button class="slack-channel" data-channel="customer-success">ðŸ“¢ #customer-success</button>
                                        </div>
                                    </div>
                                    
                                    <div class="stakeholder-card">
                                        <div class="stakeholder-info">
                                            <div class="stakeholder-name">Marcus Rodriguez</div>
                                            <div class="stakeholder-role">Director of Support Operations</div>
                                        </div>
                                        <div class="stakeholder-actions">
                                            <button class="slack-dm" data-user="marcus.rodriguez">ðŸ’¬ DM</button>
                                            <button class="slack-channel" data-channel="support-ops">ðŸ“¢ #support-ops</button>
                                        </div>
                                    </div>
                                    
                                    <div class="stakeholder-card">
                                        <div class="stakeholder-info">
                                            <div class="stakeholder-name">Emily Watson</div>
                                            <div class="stakeholder-role">Chief Revenue Officer</div>
                                        </div>
                                        <div class="stakeholder-actions">
                                            <button class="slack-dm" data-user="emily.watson">ðŸ’¬ DM</button>
                                            <button class="slack-channel" data-channel="revenue-team">ðŸ“¢ #revenue-team</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Historical Activities -->
                            <div class="historical-activities-section">
                                <h3>ðŸ“‹ Historical Activities</h3>
                                <div class="activities-timeline">
                                    <div class="activity-item">
                                        <div class="activity-time">2 hours ago</div>
                                        <div class="activity-user">Sarah Chen</div>
                                        <div class="activity-action">Escalated to executive team and initiated customer outreach</div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-time">4 hours ago</div>
                                        <div class="activity-user">Marcus Rodriguez</div>
                                        <div class="activity-action">Identified root cause: system performance degradation</div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-time">6 hours ago</div>
                                        <div class="activity-user">System Alert</div>
                                        <div class="activity-action">CSAT threshold breach detected - 3.2/5 average</div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-time">8 hours ago</div>
                                        <div class="activity-user">Emily Watson</div>
                                        <div class="activity-action">Requested detailed impact analysis for board meeting</div>
                                    </div>
                                </div>
                            </div>
                            
                                    </div>
                                    </div>
                </div>
            </div>
        </div>

        <!-- Monitor Tab Content -->
        <div class="tab-content" id="monitor">
            <!-- Autonomous Operations Center -->
            <div class="vision-autonomous-panel">
                <div class="autonomous-header">
                    <h3>ðŸ¤– Autonomous Operations Center</h3>
                    <div class="autonomous-status">
                        <span class="auto-indicator active">Auto-Pilot: ON</span>
                        <span class="systems-count">12 Systems Active</span>
                    </div>
                </div>
                <div class="autonomous-systems">
                    <div class="system-card self-healing">
                        <div class="system-card-layout">
                            <div class="system-icon">ðŸ”§</div>
                            <div class="system-info">
                                <div class="system-title">Auto-Case Routing</div>
                                <div class="system-status">347 RF-9000X cases auto-routed</div>
                                <div class="system-metric">94% accuracy</div>
                            </div>
                        </div>
                        <button class="system-btn">View Rules</button>
                    </div>
                    <div class="system-card capacity-planning">
                        <div class="system-card-layout">
                            <div class="system-icon">ðŸ“Š</div>
                            <div class="system-info">
                                <div class="system-title">Agent Workload Balancer</div>
                                <div class="system-status">Weekend surge capacity activated</div>
                                <div class="system-metric">67% utilization optimized</div>
                            </div>
                        </div>
                        <button class="system-btn">Adjust</button>
                    </div>
                    <div class="system-card customer-success">
                        <div class="system-card-layout">
                            <div class="system-icon">ðŸŽ¯</div>
                            <div class="system-info">
                                <div class="system-title">Predictive Customer Success</div>
                                <div class="system-status">156 interventions scheduled</div>
                                <div class="system-metric">+23% retention rate</div>
                            </div>
                        </div>
                        <button class="system-btn">Review</button>
                    </div>
                    <div class="system-card competitive-advantage">
                        <div class="system-card-layout">
                            <div class="system-icon">âš¡</div>
                            <div class="system-info">
                                <div class="system-title">Continuous Advantage</div>
                                <div class="system-status">Market position optimized</div>
                                <div class="system-metric">+5.2% market share</div>
                            </div>
                        </div>
                        <button class="system-btn">Deploy</button>
                    </div>
                </div>
            </div>

            <!-- Monitor Sub-Navigation -->
            <div class="monitor-sub-nav">
                <button class="monitor-tab-btn active" data-monitor-tab="dashboard">Dashboard</button>
                <button class="monitor-tab-btn" data-monitor-tab="watchlist">Watchlist</button>
                <button class="monitor-tab-btn" data-monitor-tab="intraday">Intraday</button>
                <button class="monitor-tab-btn" data-monitor-tab="in-progress">In-Progress Work</button>
                <button class="monitor-tab-btn" data-monitor-tab="backlogs">Backlogs</button>
            </div>

            <!-- Dashboard Tab -->
            <div class="monitor-tab-content active" id="monitor-dashboard">
                <!-- Filters and Controls -->
                <div class="monitor-controls">
                <div class="filter-section">
                    <div class="filter-left">
                        <div class="filter-buttons">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="service-reps">
                                <span class="filter-icon">ðŸ‘¥</span>
                                Service Reps
                            </button>
                            <button class="filter-btn" data-filter="agentforce">
                                <span class="filter-icon">ðŸ¤–</span>
                                Agentforce
                            </button>
                            <button class="filter-btn" data-filter="compare">
                                <span class="filter-icon">ðŸ“Š</span>
                                Compare
                            </button>
                        </div>
                    <select class="filter-dropdown">
                        <option>All Clouds</option>
                        <option>Sales Cloud</option>
                        <option>Service Cloud</option>
                        <option>Marketing Cloud</option>
                        <option>Field Service</option>
                    </select>
                    <select class="filter-dropdown">
                        <option>This Quarter</option>
                        <option>This Month</option>
                        <option>Last 30 Days</option>
                        <option>Custom Range</option>
                    </select>
                    <select class="filter-dropdown">
                        <option>All Regions</option>
                        <option>North America</option>
                        <option>EMEA</option>
                        <option>APAC</option>
                    </select>
                    </div>
                    <div class="filter-right">
                    <button class="add-metric-btn">+ Add Metric</button>
                    </div>
                </div>
            </div>

            <!-- Executive Cloud Metrics -->
            <div class="metrics-section">
                <h3 class="section-title">
                    Executive Performance Metrics
                </h3>
                <div class="metrics-grid executive-metrics">
                    <div class="metric-card clickable" data-metric="first-call-resolution" 
                         tabindex="0" role="button" aria-label="First Call Resolution metric: 23%, 55% below target">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Field Service.png" alt="Field Service" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title">FIRST CALL RESOLUTION</div>
                        </div>
                        <div class="metric-value">23%</div>
                        <div class="metric-change negative">-55% vs target (78%)</div>
                        <div class="metric-prediction critical">
                            <div class="prediction-header">ðŸ”® AI Insight</div>
                            <div class="prediction-content">
                                FCR may drop to 18% next week. Knowledge base updates could recover 15-20 points in 5 days.
                            </div>
                            <div class="prediction-action">â†’ Activate surge response</div>
                        </div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>

                    <div class="metric-card clickable" data-metric="customer-satisfaction">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Revenue.png" alt="Revenue Cloud" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title">CUSTOMER SATISFACTION</div>
                        </div>
                        <div class="metric-value">2.1/5</div>
                        <div class="metric-change negative">-50% vs target (4.2/5)</div>
                        <div class="metric-prediction critical">
                            <div class="prediction-header">ðŸ”® AI Insight</div>
                            <div class="prediction-content">
                                Recovery programs show 73% success within 48hrs. Could reach 3.2/5 CSAT in 2 weeks.
                            </div>
                            <div class="prediction-action">â†’ Launch recovery program</div>
                        </div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>

                    <div class="metric-card clickable" data-metric="response-time">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Field Service.png" alt="Field Service" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title">RESPONSE TIME</div>
                        </div>
                        <div class="metric-value">4.2hrs</div>
                        <div class="metric-change negative">+110% vs target (2hrs)</div>
                        <div class="metric-prediction warning">
                            <div class="prediction-header">ðŸ”® AI Insight</div>
                            <div class="prediction-content">
                                Surge capacity can reduce to 2.5hrs in 24hrs. Auto-routing shows 34% efficiency gain.
                            </div>
                            <div class="prediction-action">â†’ Activate surge capacity</div>
                        </div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>

                    <div class="metric-card clickable" data-metric="engagement-service">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Marketing.png" alt="Marketing Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title">ENGAGEMENTâ†’SERVICE</div>
                        </div>
                        <div class="metric-value">1,247</div>
                        <div class="metric-change neutral">Total cases</div>
                        <div class="metric-prediction success">
                            <div class="prediction-header">ðŸ”® AI Insight</div>
                            <div class="prediction-content">
                                89% of RF-9000X issues resolvable via proactive messaging. Could reduce volume by 25%.
                            </div>
                            <div class="prediction-action">â†’ Launch messaging campaign</div>
                        </div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>

                    <div class="metric-card clickable" data-metric="multi-channel">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Marketing.png" alt="Marketing Cloud" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title">MULTI-CHANNEL ENGAGEMENT</div>
                        </div>
                        <div class="metric-value">4.2M</div>
                        <div class="metric-change positive">Total touchpoints</div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>
                </div>
            </div>

            <!-- Cross-Cloud Metrics -->
            <div class="metrics-section">
                <h3 class="section-title">
                    Cross-Cloud Intelligence
                </h3>
                <div class="metrics-grid cross-cloud-metrics">
                    <div class="metric-card clickable" data-metric="high-ltv-open-cases">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Sales.png" alt="Sales Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Revenue.png" alt="Revenue Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title"># RF-9000X ACCOUNTS + REVENUE RISK</div>
                        </div>
                        <div class="metric-value">156</div>
                        <div class="metric-change negative">$45M revenue at risk</div>
                        <div class="metric-prediction critical">
                            <div class="prediction-header">ðŸ”® AI Insight</div>
                            <div class="prediction-content">
                                Top 50 accounts ($28M ARR) at risk. Executive engagement shows 89% retention in 72hrs.
                            </div>
                            <div class="prediction-action">â†’ Activate executive engagement</div>
                        </div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>

                    <div class="metric-card clickable" data-metric="digital-transformation">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Sales.png" alt="Sales Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Service.png" alt="Service Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Marketing.png" alt="Marketing Cloud" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title">DIGITAL TRANSFORMATION</div>
                        </div>
                        <div class="metric-value">72%</div>
                        <div class="metric-change positive">+15% progress</div>
                        <div class="metric-prediction success">
                            <div class="prediction-header">ðŸ”® AI Insight</div>
                            <div class="prediction-content">
                                Could reach 85% by Q1 2025. Automation may reduce manual cases by 40%.
                            </div>
                            <div class="prediction-action">â†’ Accelerate automation</div>
                        </div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>

                    <div class="metric-card clickable" data-metric="renewal-revenue-marketing">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Marketing.png" alt="Marketing Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Sales.png" alt="Sales Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Revenue.png" alt="Revenue Cloud" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title">RENEWAL REVENUE INFLUENCED BY MARKETING</div>
                        </div>
                        <div class="metric-value">$2.1M</div>
                        <div class="metric-change positive">Campaign attribution</div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>

                    <div class="metric-card clickable" data-metric="influenced-arr-by-channel">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Marketing.png" alt="Marketing Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Sales.png" alt="Sales Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Revenue.png" alt="Revenue Cloud" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title">INFLUENCED ARR/MRR BY CHANNEL</div>
                        </div>
                        <div class="metric-value">$8.4M</div>
                        <div class="metric-change positive">Multi-channel impact</div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>

                    <div class="metric-card clickable" data-metric="customer-lifetime-value">
                        <div class="cloud-logos">
                            <div class="cloud-logo"><img src="../Icons/Sales.png" alt="Sales Cloud" /></div>
                            <div class="cloud-logo"><img src="../Icons/Revenue.png" alt="Revenue Cloud" /></div>
                        </div>
                        <div class="metric-header">
                            <div class="metric-title">CUSTOMER LIFETIME VALUE</div>
                        </div>
                        <div class="metric-value">$12.4K</div>
                        <div class="metric-change positive">+8% increase</div>
                        <button class="metric-hover-btn">ðŸ¤– Ask Agentforce</button>
                    </div>
                </div>
            </div>

            <!-- Chart Visualizations -->
            <div class="charts-section">
                <h3 class="section-title">
                    Detailed Analysis
                    <button class="add-chart-btn">+ Add Chart</button>
                </h3>
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <span class="chart-title">Service Case Volume & Resolution</span>
                            <span class="tag service">Service</span>
                            <button class="chart-actions">â‹¯</button>
                        </div>
                        <div class="chart-content">
                            <canvas id="serviceCaseChart" class="chart-canvas"></canvas>
                            <div class="chart-summary">ðŸ”§ RF-9000X cases: 347 active, 23% FCR rate (target: 78%)</div>
                        </div>
                        <div class="chart-ai-summary">
                            AI Analysis: Critical service capacity shortage detected. RF-9000X issues require immediate surge response and proactive patch deployment.
                        </div>
                        <div class="chart-actions-row">
                            <button class="what-if-btn">ðŸ“Š What-if Analysis</button>
                            <button class="ask-agentforce-btn">ðŸ¤– Ask Agentforce</button>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <span class="chart-title">Customer Satisfaction Recovery</span>
                            <span class="tag service">CSAT</span>
                            <button class="chart-actions">â‹¯</button>
                        </div>
                        <div class="chart-content">
                            <canvas id="customerSatisfactionChart" class="chart-canvas"></canvas>
                            <div class="chart-summary">ðŸ“‰ CSAT trend: 2.1/5 current, recovery plan targeting 4.2/5</div>
                        </div>
                        <div class="chart-ai-summary">
                            AI Analysis: Customer satisfaction recovery requires coordinated service excellence program with 156 proactive customer outreach initiatives.
                        </div>
                        <div class="chart-actions-row">
                            <button class="what-if-btn">ðŸ“Š What-if Analysis</button>
                            <button class="ask-agentforce-btn">ðŸ¤– Ask Agentforce</button>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <span class="chart-title">Response Time Performance</span>
                            <span class="tag field-service">Response</span>
                            <button class="chart-actions">â‹¯</button>
                        </div>
                        <div class="chart-content">
                            <canvas id="responseTimeChart" class="chart-canvas"></canvas>
                            <div class="chart-summary">â±ï¸ Current: 4.2hrs vs Target: 2hrs (110% over target)</div>
                        </div>
                        <div class="chart-ai-summary">
                            AI Analysis: Response time degradation correlates with RF-9000X case surge. Surge capacity activation can reduce to 2.5hrs within 24 hours.
                        </div>
                        <div class="chart-actions-row">
                            <button class="what-if-btn">ðŸ“Š What-if Analysis</button>
                            <button class="ask-agentforce-btn">ðŸ¤– Ask Agentforce</button>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <span class="chart-title">Field Service Efficiency</span>
                            <span class="tag field-service">Field Ops</span>
                            <button class="chart-actions">â‹¯</button>
                        </div>
                        <div class="chart-content">
                            <canvas id="fieldServiceChart" class="chart-canvas"></canvas>
                            <div class="chart-summary">ðŸ”§ 156 visits scheduled, 75% same-day completion target</div>
                        </div>
                        <div class="chart-ai-summary">
                            AI Analysis: Field service coordination optimized for RF-9000X crisis response. Priority routing reduces travel time by 34%.
                        </div>
                        <div class="chart-actions-row">
                            <button class="what-if-btn">ðŸ“Š What-if Analysis</button>
                            <button class="ask-agentforce-btn">ðŸ¤– Ask Agentforce</button>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <span class="chart-title">Service Agent Performance</span>
                            <span class="tag service">Agents</span>
                            <button class="chart-actions">â‹¯</button>
                        </div>
                        <div class="chart-content">
                            <canvas id="agentPerformanceChart" class="chart-canvas"></canvas>
                            <div class="chart-summary">ðŸ‘¥ 67% utilization, surge capacity activated for RF-9000X</div>
                        </div>
                        <div class="chart-ai-summary">
                            AI Analysis: Agent workload optimization shows 34% efficiency gain with automated case routing. Weekend surge capacity reduces backlog.
                        </div>
                        <div class="chart-actions-row">
                            <button class="what-if-btn">ðŸ“Š What-if Analysis</button>
                            <button class="ask-agentforce-btn">ðŸ¤– Ask Agentforce</button>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <span class="chart-title">Customer Recovery Pipeline</span>
                            <span class="tag service">Recovery</span>
                            <button class="chart-actions">â‹¯</button>
                        </div>
                        <div class="chart-content">
                            <canvas id="customerRecoveryChart" class="chart-canvas"></canvas>
                            <div class="chart-summary">ðŸ”„ 156 customers in recovery program, 89% conversion to advocates</div>
                        </div>
                        <div class="chart-ai-summary">
                            AI Analysis: Customer recovery program shows strong potential for brand advocacy conversion. Proactive outreach increases satisfaction 3.2x.
                        </div>
                        <div class="chart-actions-row">
                            <button class="what-if-btn">ðŸ“Š What-if Analysis</button>
                            <button class="ask-agentforce-btn">ðŸ¤– Ask Agentforce</button>
                        </div>
                    </div>
                </div>
            </div>

            </div>

            <!-- Watchlist Tab -->
            <div class="monitor-tab-content" id="monitor-watchlist">
                <div class="watchlist-container">
                    <div class="watchlist-header">
                        <h3>Service Operations Watchlist</h3>
                        <div class="watchlist-controls">
                            <button class="view-toggle active" data-view="table">ðŸ“Š Table</button>
                            <button class="view-toggle" data-view="kanban">ðŸ“‹ Kanban</button>
                            <button class="view-toggle" data-view="gantt">ðŸ“… Gantt</button>
                        </div>
                    </div>
                    <!-- Table View -->
                    <div class="watchlist-view active" id="table-view">
                        <div class="table-container">
                            <table class="watchlist-table">
                                <thead>
                                    <tr>
                                        <th>Initiative</th>
                                        <th>Priority</th>
                                        <th>Category</th>
                                        <th>Owner</th>
                                        <th>Progress</th>
                                        <th>Due Date</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="priority-urgent">
                                        <td>
                                            <div class="initiative-cell">
                                                <div class="initiative-title">Customer Satisfaction Recovery</div>
                                                <div class="initiative-desc">CSAT dropped to 3.2/5 - immediate action required</div>
                                            </div>
                                        </td>
                                        <td><span class="tag urgent">Urgent</span></td>
                                        <td><span class="tag service">Service</span></td>
                                        <td>CMO</td>
                                        <td>
                                            <div class="progress-cell">
                                                <div class="progress-bar-mini">
                                                    <div class="progress-fill-mini" style="width: 34%"></div>
                                                </div>
                                                <span class="progress-text-mini">34%</span>
                                            </div>
                                        </td>
                                        <td>Dec 15, 2024</td>
                                        <td><span class="status-badge critical">Critical</span></td>
                                        <td>
                                            <button class="action-btn">ðŸ¤–</button>
                                            <button class="action-btn">ðŸ“Š</button>
                                        </td>
                                    </tr>
                                    <tr class="priority-high">
                                        <td>
                                            <div class="initiative-cell">
                                                <div class="initiative-title">Q4 Revenue Target</div>
                                                <div class="initiative-desc">$15M target - currently at 78% completion</div>
                                            </div>
                                        </td>
                                        <td><span class="tag high">High</span></td>
                                        <td><span class="tag sales">Sales</span></td>
                                        <td>VP Sales</td>
                                        <td>
                                            <div class="progress-cell">
                                                <div class="progress-bar-mini">
                                                    <div class="progress-fill-mini" style="width: 78%"></div>
                                                </div>
                                                <span class="progress-text-mini">78%</span>
                                            </div>
                                        </td>
                                        <td>Dec 31, 2024</td>
                                        <td><span class="status-badge on-track">On Track</span></td>
                                        <td>
                                            <button class="action-btn">ðŸ¤–</button>
                                            <button class="action-btn">ðŸ“Š</button>
                                        </td>
                                    </tr>
                                    <tr class="priority-medium">
                                        <td>
                                            <div class="initiative-cell">
                                                <div class="initiative-title">AI Expansion Initiative</div>
                                                <div class="initiative-desc">Scale successful AI implementations across all units</div>
                                            </div>
                                        </td>
                                        <td><span class="tag medium">Medium</span></td>
                                        <td><span class="tag ai">AI</span></td>
                                        <td>CTO</td>
                                        <td>
                                            <div class="progress-cell">
                                                <div class="progress-bar-mini">
                                                    <div class="progress-fill-mini" style="width: 92%"></div>
                                                </div>
                                                <span class="progress-text-mini">92%</span>
                                            </div>
                                        </td>
                                        <td>Jan 15, 2025</td>
                                        <td><span class="status-badge ahead">Ahead</span></td>
                                        <td>
                                            <button class="action-btn">ðŸ¤–</button>
                                            <button class="action-btn">ðŸ“Š</button>
                                        </td>
                                    </tr>
                                    <tr class="priority-high">
                                        <td>
                                            <div class="initiative-cell">
                                                <div class="initiative-title">Digital Transformation ROI</div>
                                                <div class="initiative-desc">Track ROI across all digital initiatives - targeting 25% improvement</div>
                                            </div>
                                        </td>
                                        <td><span class="tag high">High</span></td>
                                        <td><span class="tag technology">Tech</span></td>
                                        <td>CTO</td>
                                        <td>
                                            <div class="progress-cell">
                                                <div class="progress-bar-mini">
                                                    <div class="progress-fill-mini" style="width: 67%"></div>
                                                </div>
                                                <span class="progress-text-mini">67%</span>
                                            </div>
                                        </td>
                                        <td>Feb 28, 2025</td>
                                        <td><span class="status-badge on-track">On Track</span></td>
                                        <td>
                                            <button class="action-btn">ðŸ¤–</button>
                                            <button class="action-btn">ðŸ“Š</button>
                                        </td>
                                    </tr>
                                    <tr class="priority-high">
                                        <td>
                                            <div class="initiative-cell">
                                                <div class="initiative-title">Market Expansion Strategy</div>
                                                <div class="initiative-desc">EMEA expansion plan execution - $890M market opportunity</div>
                                            </div>
                                        </td>
                                        <td><span class="tag critical">Critical</span></td>
                                        <td><span class="tag growth">Growth</span></td>
                                        <td>CEO</td>
                                        <td>
                                            <div class="progress-cell">
                                                <div class="progress-bar-mini">
                                                    <div class="progress-fill-mini" style="width: 45%"></div>
                                                </div>
                                                <span class="progress-text-mini">45%</span>
                                            </div>
                                        </td>
                                        <td>Jan 31, 2025</td>
                                        <td><span class="status-badge behind">Behind</span></td>
                                        <td>
                                            <button class="action-btn">ðŸ¤–</button>
                                            <button class="action-btn">ðŸ“Š</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Kanban View -->
                    <div class="watchlist-view" id="kanban-view">
                        <div class="kanban-container">
                            <div class="kanban-column">
                                <div class="kanban-header">
                                    <h4>ðŸ”´ Critical</h4>
                                    <span class="item-count">2</span>
                                </div>
                                <div class="kanban-items">
                                    <div class="kanban-card priority-urgent" draggable="true">
                                        <div class="card-header">
                                            <span class="card-title">Customer Satisfaction Recovery</span>
                                            <span class="tag urgent">Urgent</span>
                                        </div>
                                        <div class="card-category"><span class="tag service">Service</span></div>
                                        <div class="card-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" style="width: 34%"></div>
                                            </div>
                                            <span class="progress-text-mini">34%</span>
                                        </div>
                                        <div class="card-meta">
                                            <span class="owner">CMO</span>
                                            <span class="due-date">Dec 15</span>
                                        </div>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </div>

                                    <div class="kanban-card priority-high" draggable="true">
                                        <div class="card-header">
                                            <span class="card-title">Market Expansion Strategy</span>
                                            <span class="tag critical">Critical</span>
                                        </div>
                                        <div class="card-category"><span class="tag growth">Growth</span></div>
                                        <div class="card-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" style="width: 45%"></div>
                                            </div>
                                            <span class="progress-text-mini">45%</span>
                                        </div>
                                        <div class="card-meta">
                                            <span class="owner">CEO</span>
                                            <span class="due-date">Jan 31</span>
                                        </div>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </div>
                                </div>
                            </div>

                            <div class="kanban-column">
                                <div class="kanban-header">
                                    <h4>ðŸŸ¡ In Progress</h4>
                                    <span class="item-count">2</span>
                                </div>
                                <div class="kanban-items">
                                    <div class="kanban-card priority-high" draggable="true">
                                        <div class="card-header">
                                            <span class="card-title">Q4 Revenue Target</span>
                                            <span class="tag high">High</span>
                                        </div>
                                        <div class="card-category"><span class="tag sales">Sales</span></div>
                                        <div class="card-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" style="width: 78%"></div>
                                            </div>
                                            <span class="progress-text-mini">78%</span>
                                        </div>
                                        <div class="card-meta">
                                            <span class="owner">VP Sales</span>
                                            <span class="due-date">Dec 31</span>
                                        </div>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </div>

                                    <div class="kanban-card priority-high" draggable="true">
                                        <div class="card-header">
                                            <span class="card-title">Digital Transformation ROI</span>
                                            <span class="tag high">High</span>
                                        </div>
                                        <div class="card-category"><span class="tag technology">Tech</span></div>
                                        <div class="card-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" style="width: 67%"></div>
                                            </div>
                                            <span class="progress-text-mini">67%</span>
                                        </div>
                                        <div class="card-meta">
                                            <span class="owner">CTO</span>
                                            <span class="due-date">Feb 28</span>
                                        </div>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </div>
                                </div>
                            </div>

                            <div class="kanban-column">
                                <div class="kanban-header">
                                    <h4>ðŸŸ¢ On Track</h4>
                                    <span class="item-count">1</span>
                                </div>
                                <div class="kanban-items">
                                    <div class="kanban-card priority-medium" draggable="true">
                                        <div class="card-header">
                                            <span class="card-title">AI Expansion Initiative</span>
                                            <span class="tag medium">Medium</span>
                                        </div>
                                        <div class="card-category"><span class="tag ai">AI</span></div>
                                        <div class="card-progress">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" style="width: 92%"></div>
                                            </div>
                                            <span class="progress-text-mini">92%</span>
                                        </div>
                                        <div class="card-meta">
                                            <span class="owner">CTO</span>
                                            <span class="due-date">Jan 15</span>
                                        </div>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Gantt View -->
                    <div class="watchlist-view" id="gantt-view">
                        <div class="gantt-container">
                            <div class="gantt-header">
                                <div class="gantt-task-column">Task</div>
                                <div class="gantt-timeline">
                                    <div class="timeline-month">Nov 2024</div>
                                    <div class="timeline-month">Dec 2024</div>
                                    <div class="timeline-month">Jan 2025</div>
                                    <div class="timeline-month">Feb 2025</div>
                                </div>
                            </div>
                            <div class="gantt-body">
                                <div class="gantt-row">
                                    <div class="gantt-task-info">
                                        <div class="task-title">Customer Satisfaction Recovery</div>
                                        <div class="task-owner">CMO â€¢ Service</div>
                                    </div>
                                    <div class="gantt-timeline-row">
                                        <div class="gantt-bar urgent" style="left: 15%; width: 30%; background: linear-gradient(90deg, #c23934 34%, #f0f0f0 34%);">
                                            <span class="bar-label">34%</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="gantt-row">
                                    <div class="gantt-task-info">
                                        <div class="task-title">Q4 Revenue Target</div>
                                        <div class="task-owner">VP Sales â€¢ Sales</div>
                                    </div>
                                    <div class="gantt-timeline-row">
                                        <div class="gantt-bar high" style="left: 0%; width: 50%; background: linear-gradient(90deg, #0176d3 78%, #f0f0f0 78%);">
                                            <span class="bar-label">78%</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="gantt-row">
                                    <div class="gantt-task-info">
                                        <div class="task-title">AI Expansion Initiative</div>
                                        <div class="task-owner">CTO â€¢ AI</div>
                                    </div>
                                    <div class="gantt-timeline-row">
                                        <div class="gantt-bar medium" style="left: 25%; width: 40%; background: linear-gradient(90deg, #04844b 92%, #f0f0f0 92%);">
                                            <span class="bar-label">92%</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="gantt-row">
                                    <div class="gantt-task-info">
                                        <div class="task-title">Digital Transformation ROI</div>
                                        <div class="task-owner">CTO â€¢ Tech</div>
                                    </div>
                                    <div class="gantt-timeline-row">
                                        <div class="gantt-bar high" style="left: 30%; width: 70%; background: linear-gradient(90deg, #0176d3 67%, #f0f0f0 67%);">
                                            <span class="bar-label">67%</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="gantt-row">
                                    <div class="gantt-task-info">
                                        <div class="task-title">Market Expansion Strategy</div>
                                        <div class="task-owner">CEO â€¢ Growth</div>
                                    </div>
                                    <div class="gantt-timeline-row">
                                        <div class="gantt-bar critical" style="left: 20%; width: 35%; background: linear-gradient(90deg, #c23934 45%, #f0f0f0 45%);">
                                            <span class="bar-label">45%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Intraday Tab -->
            <div class="monitor-tab-content" id="monitor-intraday">
                <div class="intraday-container">
                    <div class="table-header">
                        <h3>Intraday Service Operations</h3>
                        <div class="table-controls">
                            <input type="search" placeholder="Search cases..." class="search-input">
                            <select class="filter-dropdown">
                                <option>All Priorities</option>
                                <option>Critical</option>
                                <option>High</option>
                                <option>Medium</option>
                            </select>
                        </div>
                    </div>
                    <div class="table-view" id="intraday-table-view">
                        <table class="watchlist-table">
                            <thead>
                                <tr>
                                    <th>Case Details</th>
                                    <th>Priority</th>
                                    <th>Product</th>
                                    <th>Agent</th>
                                    <th>Status</th>
                                    <th>Response Time</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="priority-critical">
                                    <td>
                                        <div class="initiative-cell">
                                            <div class="initiative-title">RF-9000X-001 - Samsung Electronics USA</div>
                                            <div class="initiative-desc">IoT Connectivity issue affecting smart features</div>
                        </div>
                                    </td>
                                    <td><span class="tag urgent">Critical</span></td>
                                    <td><span class="tag service">RF-9000X</span></td>
                                    <td>Sarah Chen</td>
                                    <td><span class="tag active">In Progress</span></td>
                                    <td>2.3 hrs</td>
                                    <td>
                                        <button class="action-button primary">View</button>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </td>
                                </tr>
                                <tr class="priority-high">
                                    <td>
                                        <div class="initiative-cell">
                                            <div class="initiative-title">RF-9000X-002 - Best Buy Corporate</div>
                                            <div class="initiative-desc">Software update required for latest firmware</div>
                        </div>
                                    </td>
                                    <td><span class="tag high">High</span></td>
                                    <td><span class="tag service">RF-9000X</span></td>
                                    <td>Mike Rodriguez</td>
                                    <td><span class="tag pending">Pending</span></td>
                                    <td>1.8 hrs</td>
                                    <td>
                                        <button class="action-button primary">Assign</button>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </td>
                                </tr>
                                <tr class="priority-critical">
                                    <td>
                                        <div class="initiative-cell">
                                            <div class="initiative-title">RF-9000X-003 - Home Depot</div>
                                            <div class="initiative-desc">Display error preventing normal operation</div>
                        </div>
                                    </td>
                                    <td><span class="tag urgent">Critical</span></td>
                                    <td><span class="tag service">RF-9000X</span></td>
                                    <td>Lisa Park</td>
                                    <td><span class="tag escalated">Escalated</span></td>
                                    <td>4.1 hrs</td>
                                    <td>
                                        <button class="action-button primary">Expedite</button>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
            </div>
        </div>

            <!-- In-Progress Work Tab -->
            <div class="monitor-tab-content" id="monitor-in-progress">
                <div class="in-progress-container">
                    <div class="table-header">
                        <h3>In-Progress Service Work</h3>
                        <div class="table-controls">
                            <input type="search" placeholder="Search work items..." class="search-input">
                            <select class="filter-dropdown">
                                <option>All Teams</option>
                                <option>Technical Support</option>
                                <option>Field Service</option>
                                <option>Customer Success</option>
                            </select>
                    </div>
                </div>
                    <div class="table-view" id="in-progress-table-view">
                        <table class="watchlist-table">
                            <thead>
                                <tr>
                                    <th>Work Item</th>
                                    <th>Type</th>
                                    <th>Assigned To</th>
                                    <th>Progress</th>
                                    <th>ETA</th>
                                    <th>Risk Level</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="initiative-cell">
                                            <div class="initiative-title">WO-RF-001 - Premium Customer A</div>
                                            <div class="initiative-desc">Field Service Visit for RF-9000X repair</div>
                        </div>
                                    </td>
                                    <td><span class="tag field-service">Field Service</span></td>
                                    <td>Tech Team Alpha</td>
                                    <td>
                                        <div class="progress-cell">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" style="width: 75%"></div>
                                </div>
                                            <span class="progress-text-mini">75%</span>
                            </div>
                                    </td>
                                    <td>2 hours</td>
                                    <td><span class="tag low">Low Risk</span></td>
                                    <td>
                                        <button class="action-button primary">Track</button>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="initiative-cell">
                                            <div class="initiative-title">WO-RF-002 - Enterprise Customer B</div>
                                            <div class="initiative-desc">Remote Patch Deploy for software fix</div>
                                </div>
                                    </td>
                                    <td><span class="tag technology">Software</span></td>
                                    <td>Software Team</td>
                                    <td>
                                        <div class="progress-cell">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" style="width: 45%"></div>
                            </div>
                                            <span class="progress-text-mini">45%</span>
                        </div>
                                    </td>
                                    <td>4 hours</td>
                                    <td><span class="tag medium">Medium Risk</span></td>
                                    <td>
                                        <button class="action-button primary">Monitor</button>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="initiative-cell">
                                            <div class="initiative-title">WO-RF-003 - VIP Customer C</div>
                                            <div class="initiative-desc">Customer Recovery Call for satisfaction improvement</div>
                    </div>
                                    </td>
                                    <td><span class="tag service">Customer Success</span></td>
                                    <td>Customer Success</td>
                                    <td>
                                        <div class="progress-cell">
                                            <div class="progress-bar-mini">
                                                <div class="progress-fill-mini" style="width: 90%"></div>
                        </div>
                                            <span class="progress-text-mini">90%</span>
                            </div>
                                    </td>
                                    <td>30 minutes</td>
                                    <td><span class="tag low">Low Risk</span></td>
                                    <td>
                                        <button class="action-button primary">Complete</button>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                            </div>
                        </div>
                    </div>

            <!-- Backlogs Tab -->
            <div class="monitor-tab-content" id="monitor-backlogs">
                <div class="backlogs-container">
                    <div class="table-header">
                        <h3>Service Operations Backlog</h3>
                        <div class="table-controls">
                            <input type="search" placeholder="Search backlog items..." class="search-input">
                            <select class="filter-dropdown">
                                <option>All Categories</option>
                                <option>Technical Issues</option>
                                <option>Process Improvements</option>
                                <option>Training Needs</option>
                            </select>
                        </div>
                            </div>
                    <div class="table-view" id="backlogs-table-view">
                        <table class="watchlist-table">
                            <thead>
                                <tr>
                                    <th>Backlog Item</th>
                                    <th>Priority</th>
                                    <th>Category</th>
                                    <th>Owner</th>
                                    <th>Impact/Effort</th>
                                    <th>Target Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="initiative-cell">
                                            <div class="initiative-title">BL-001 - Proactive Patch Deployment</div>
                                            <div class="initiative-desc">Implement system for automatic patch deployment to prevent issues</div>
                            </div>
                                    </td>
                                    <td><span class="tag high">High</span></td>
                                    <td><span class="tag technology">Process</span></td>
                                    <td>Engineering Team</td>
                                    <td>
                                        <div class="impact-effort">
                                            <span class="impact-badge high">High Impact</span>
                                            <span class="effort-badge large">Large Effort</span>
                        </div>
                                    </td>
                                    <td>Q1 2025</td>
                                    <td>
                                        <button class="action-button primary">Plan</button>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="initiative-cell">
                                            <div class="initiative-title">BL-002 - RF-9000X Agent Training</div>
                                            <div class="initiative-desc">Comprehensive troubleshooting training for support agents</div>
                    </div>
                                    </td>
                                    <td><span class="tag urgent">Critical</span></td>
                                    <td><span class="tag service">Training</span></td>
                                    <td>Training Team</td>
                                    <td>
                                        <div class="impact-effort">
                                            <span class="impact-badge high">High Impact</span>
                                            <span class="effort-badge medium">Medium Effort</span>
                        </div>
                                    </td>
                                    <td>This Week</td>
                                    <td>
                                        <button class="action-button primary">Schedule</button>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="initiative-cell">
                                            <div class="initiative-title">BL-003 - AI Routing Upgrade</div>
                                            <div class="initiative-desc">Upgrade case routing algorithms for better accuracy</div>
                            </div>
                                    </td>
                                    <td><span class="tag medium">Medium</span></td>
                                    <td><span class="tag technology">Technical</span></td>
                                    <td>AI/ML Team</td>
                                    <td>
                                        <div class="impact-effort">
                                            <span class="impact-badge medium">Medium Impact</span>
                                            <span class="effort-badge large">Large Effort</span>
                            </div>
                                    </td>
                                    <td>Q2 2025</td>
                                    <td>
                                        <button class="action-button primary">Research</button>
                                        <button class="ask-agentforce-btn-mini">ðŸ¤–</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        </div>
                    </div>
                </div>

            </div>

        <!-- Act Tab Content -->
        <div class="tab-content" id="act">
            <!-- Strategic V2MOM Initiatives -->
            <div class="metrics-section">
                <h3 class="section-title">
                    Strategy Boards
                    <button class="add-metric-btn" id="add-strategic-board">+ Create Strategic Board</button>
                </h3>
                <div class="strategy-boards-grid">
                    <div class="strategy-board-card clickable" data-strategy-id="1" onclick="openStrategyBoardDetail(1)">
                        <div class="board-header">
                            <div class="board-title">RF-9000X Crisis Recovery</div>
                            <span class="tag service">Critical</span>
                        </div>
                        <div class="board-status-indicator at-risk">At Risk</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 45%"></div>
                            <span class="progress-text">45%</span>
                        </div>
                        <div class="board-metrics">
                            <div class="metric-item">
                                <span class="metric-label">Target CSAT:</span>
                                <span class="metric-value">4.2/5</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Current:</span>
                                <span class="metric-value">2.1/5</span>
                            </div>
                        </div>
                        <div class="board-meta">
                            <span class="timeline">Q4 FY25</span>
                            <span class="owner">CEO</span>
                        </div>
                    </div>

                    <div class="strategy-board-card clickable" data-strategy-id="2" onclick="openStrategyBoardDetail(2)">
                        <div class="board-header">
                            <div class="board-title">Service Operations Excellence</div>
                            <span class="tag service">Operations</span>
                        </div>
                        <div class="board-status-indicator needs-attention">Needs Attention</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 34%"></div>
                            <span class="progress-text">34%</span>
                        </div>
                        <div class="board-metrics">
                            <div class="metric-item">
                                <span class="metric-label">Target FCR:</span>
                                <span class="metric-value">78%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">Current:</span>
                                <span class="metric-value">23%</span>
                            </div>
                        </div>
                        <div class="board-meta">
                            <span class="timeline">Q2 FY25</span>
                            <span class="owner">CMO</span>
                        </div>
                    </div>

                    <div class="strategy-board-card clickable" data-strategy-id="3" onclick="openStrategyBoardDetail(3)">
                        <div class="board-header">
                            <div class="board-title">AI-First Operations</div>
                            <span class="tag ai">AI</span>
                        </div>
                        <div class="board-status-indicator exceeding">Exceeding</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 100%; background: var(--slds-c-color-success)"></div>
                            <span class="progress-text">123%</span>
                        </div>
                        <div class="board-metrics">
                            <div class="metric-item">
                                <span class="metric-label">Automation:</span>
                                <span class="metric-value">94%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ROI:</span>
                                <span class="metric-value">340%</span>
                            </div>
                        </div>
                        <div class="board-meta">
                            <span class="timeline">Q1 FY25</span>
                            <span class="owner">CSO</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        // Basic test to ensure JavaScript is working
        console.log('JavaScript is loading...');
        window.jsTest = function() {
            console.log('JavaScript is working!');
            return 'JS Working';
        };
        
        // Test function right at the start
        window.earlyTest = function() {
            console.log('Early test working - script execution started');
        };
        
        // Alert details data
        const alertDetails = {
            1: {
                title: "RF-9000X Service Crisis",
                priority: "Critical",
                timestamp: "2 min ago",
                source: "Service Cloud Analytics",
                impact: "Customer Experience & Revenue Risk",
                description: "RF-9000X Smart Refrigerator experiencing critical service crisis with 347 new support cases in 2 hours. Response time has increased to 4.2 hours (vs 2-hour target). Customer satisfaction dropped to 2.1/5. First Call Resolution rate at 23% (vs 78% target). 156 field service visits required.",
                metrics: {
                    "Active Support Cases": "347 cases (89% increase)",
                    "Response Time": "4.2 hours (110% over target)",
                    "Customer Satisfaction": "2.1/5 (50% below target)",
                    "First Call Resolution": "23% (55% below target)",
                    "Revenue at Risk": "$45M (15,000 units shipped)",
                    "Field Service Visits": "156 required"
                },
                recommendations: [
                    "Activate emergency response team for RF-9000X support",
                    "Deploy weekend surge capacity for agent scaling",
                    "Implement proactive patch deployment to remaining 12,000 units",
                    "Launch customer recovery program for 156 affected customers",
                    "Coordinate with Field Service for priority on-site visits",
                    "Execute cross-cloud crisis communication plan"
                ]
            },
            2: {
                title: "Revenue Forecast Risk - Q4 Target",
                priority: "Critical",
                timestamp: "15 min ago", 
                source: "AI Forecasting Engine",
                impact: "Quarterly Revenue Target",
                description: "Q4 revenue forecast confidence has dropped to 72%, falling below the critical 75% threshold established by the board. This indicates $2.3M in pipeline revenue is at higher risk than previously assessed, with 23 deals showing decreased probability scores.",
                metrics: {
                    "At-Risk Revenue": "$2.3M pipeline",
                    "Confidence Drop": "-8% (now 72%)",
                    "Affected Deals": "23 opportunities",
                    "Time to Quarter End": "4 weeks remaining"
                },
                recommendations: [
                    "Conduct executive review of top 10 highest-risk deals",
                    "Deploy senior leadership for customer engagement",
                    "Consider strategic discounting authority expansion",
                    "Accelerate deal closure activities with dedicated resources",
                    "Prepare board communication on forecast revision"
                ]
            },
            3: {
                title: "AI Productivity Breakthrough",
                priority: "Opportunity",
                timestamp: "1 hour ago",
                source: "AI Operations Center",
                impact: "Cost Optimization & Efficiency",
                description: "AI agents have achieved $500K in cost savings this quarter, exceeding the target by 23%. This milestone demonstrates successful AI integration across all business units and represents a 340% ROI on AI investments. The breakthrough opens opportunities for aggressive scaling.",
                metrics: {
                    "Cost Savings Achieved": "$500K quarterly",
                    "Target Achievement": "123% of goal",
                    "Automation Rate": "78% of processes",
                    "ROI": "340% on AI investment"
                },
                recommendations: [
                    "Celebrate achievements in company all-hands meeting",
                    "Document and scale successful AI implementation patterns",
                    "Identify next wave of automation opportunities",
                    "Plan Q1 AI expansion roadmap with increased investment",
                    "Share success story with board and investors"
                ]
            }
        };

        // Strategy details data
        const strategyDetails = {
            1: {
                title: "FY25 Growth Vision Initiative",
                status: "On Track",
                progress: 78,
                description: "Comprehensive growth strategy targeting $100M revenue with expansion into 3 new regions. Currently at $78M with strong momentum in North America and emerging opportunities in EMEA. AI-driven market analysis indicates accelerated growth potential.",
                charts: [
                    "ðŸ“ˆ Revenue Growth Trajectory (5-year projection)",
                    "ðŸŒ Regional Market Penetration Analysis",
                    "ðŸŽ¯ Customer Acquisition Cost vs Lifetime Value",
                    "ðŸ“Š Competitive Positioning Matrix"
                ],
                predictions: {
                    title: "AI Growth Forecast",
                    confidence: "89%",
                    forecast: "$98M Revenue Achievement (98% of target)",
                    factors: ["Strong Q3 performance momentum", "EMEA expansion showing 34% growth potential", "AI productivity gains reducing operational costs"]
                },
                whatIf: [
                    {
                        scenario: "Accelerate EMEA expansion by 6 months",
                        impact: "+$12M additional revenue, 112% target achievement",
                        probability: "Medium"
                    },
                    {
                        scenario: "Increase AI automation investment by 50%",
                        impact: "+$8M cost savings, improved margins",
                        probability: "High"
                    },
                    {
                        scenario: "Strategic acquisition in APAC market",
                        impact: "+$25M revenue, new market entry",
                        probability: "Low"
                    }
                ]
            },
            2: {
                title: "Customer Experience Excellence Program",
                status: "Needs Attention",
                progress: 64,
                description: "Critical initiative to restore customer satisfaction from current 3.2/5 to target 4.5/5. Multi-faceted approach including service transformation, product improvements, and customer success program expansion. Requires immediate executive attention.",
                charts: [
                    "ðŸ“‰ Customer Satisfaction Trend Analysis",
                    "ðŸ”„ Customer Journey Pain Point Mapping",
                    "ðŸ“ž Support Response Time vs Satisfaction Correlation",
                    "ðŸ’¡ Customer Success Impact on Retention"
                ],
                predictions: {
                    title: "Customer Experience Forecast",
                    confidence: "76%",
                    forecast: "4.1/5 CSAT achievable with full program implementation",
                    factors: ["Service team training 67% complete", "$2.8M investment approved", "Customer feedback systems being deployed"]
                },
                whatIf: [
                    {
                        scenario: "Double customer success team size",
                        impact: "4.3/5 CSAT, +$3.2M retention value",
                        probability: "High"
                    },
                    {
                        scenario: "Implement AI-powered customer service",
                        impact: "4.2/5 CSAT, 40% faster response times",
                        probability: "Medium"
                    },
                    {
                        scenario: "Launch customer advisory board",
                        impact: "4.4/5 CSAT, improved product-market fit",
                        probability: "Medium"
                    }
                ]
            },
            3: {
                title: "AI-First Operations Transformation",
                status: "Exceeding",
                progress: 123,
                description: "Revolutionary transformation of operations through AI integration, achieving 78% automation rate and $500K quarterly savings. Exceeding all targets and establishing competitive advantage through operational excellence.",
                charts: [
                    "ðŸ¤– Automation Rate by Business Function",
                    "ðŸ’° Cost Savings Accumulation Over Time",
                    "âš¡ Process Efficiency Improvements",
                    "ðŸŽ¯ ROI Analysis by AI Implementation Phase"
                ],
                predictions: {
                    title: "AI Operations Forecast",
                    confidence: "94%",
                    forecast: "85% automation rate, $750K quarterly savings by Q1",
                    factors: ["Current momentum exceeding expectations", "Additional processes identified for automation", "Team adoption rates at 92%"]
                },
                whatIf: [
                    {
                        scenario: "Expand AI to customer-facing processes",
                        impact: "90% automation, +$200K savings, improved CX",
                        probability: "High"
                    },
                    {
                        scenario: "AI-powered decision making for executives",
                        impact: "25% faster strategic decisions, better outcomes",
                        probability: "Medium"
                    },
                    {
                        scenario: "Cross-industry AI partnership",
                        impact: "New revenue stream, thought leadership",
                        probability: "Low"
                    }
                ]
            }
        };

        // Test function after data objects
        window.afterDataTest = function() {
            console.log('After data objects test working');
        };

        // Filter button functionality
        function initializeFilterButtons() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Get filter type
                    const filterType = this.getAttribute('data-filter');
                    console.log('Filter selected:', filterType);
                    
                    // Here you can add logic to filter content based on the selected filter
                    // For now, we'll just log the selection
                    switch(filterType) {
                        case 'all':
                            console.log('Showing all metrics');
                            break;
                        case 'service-reps':
                            console.log('Showing service reps metrics');
                            break;
                        case 'agentforce':
                            console.log('Showing Agentforce metrics');
                            break;
                        case 'compare':
                            console.log('Showing comparison view');
                            break;
                    }
                });
            });
        }

        // Tab switching functionality for header tab buttons
        document.querySelectorAll('.header-tab-button').forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all tabs and content
                document.querySelectorAll('.header-tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                this.classList.add('active');
                const tabId = this.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
                
                // Also update the corresponding main nav tab button
                document.querySelector(`.tab-button[data-tab="${tabId}"]`).classList.add('active');
                
                // If Monitor tab is clicked, initialize charts after a short delay
                if (tabId === 'monitor') {
                    console.log('Monitor tab activated, initializing charts...');
                    setTimeout(() => {
                        initializeCharts();
                    }, 500); // Increased delay to ensure tab content is fully visible
                }
            });
        });

        // Tab switching functionality for main navigation tab buttons
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all tabs and content
                document.querySelectorAll('.header-tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                this.classList.add('active');
                const tabId = this.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
                
                // Also update the corresponding header tab button
                document.querySelector(`.header-tab-button[data-tab="${tabId}"]`).classList.add('active');
                
                // If Monitor tab is clicked, initialize charts after a short delay
                if (tabId === 'monitor') {
                    console.log('Monitor tab activated, initializing charts...');
                    setTimeout(() => {
                        initializeCharts();
                    }, 500); // Increased delay to ensure tab content is fully visible
                }
            });
        });

        // Monitor sub-tab switching functionality
        document.querySelectorAll('.monitor-tab-btn').forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all monitor tabs and content
                document.querySelectorAll('.monitor-tab-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.monitor-tab-content').forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                this.classList.add('active');
                const tabId = this.getAttribute('data-monitor-tab');
                document.getElementById('monitor-' + tabId).classList.add('active');
                
                // If switching to dashboard tab, initialize charts
                if (tabId === 'dashboard') {
                    console.log('Monitor dashboard sub-tab activated, initializing charts...');
                    setTimeout(() => {
                        initializeCharts();
                    }, 300);
                }
            });
        });

        // Metric card click and keyboard functionality
        document.querySelectorAll('.metric-card.clickable').forEach(card => {
            card.addEventListener('click', function() {
                const metricId = this.getAttribute('data-metric');
                showMetricOverlay(metricId);
            });
            
            // Add keyboard support
            card.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    const metricId = this.getAttribute('data-metric');
                    showMetricOverlay(metricId);
                }
            });
        });

        // Metric hover buttons
        document.querySelectorAll('.metric-hover-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const metricCard = this.closest('.metric-card');
                const metricType = metricCard.getAttribute('data-metric');
                showAgentforceDialog(metricType);
            });
        });

        // What-if analysis functionality
        document.querySelectorAll('.what-if-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const metricCard = this.closest('.metric-card');
                const chartContainer = this.closest('.chart-container');
                let metricId = 'general';
                
                if (metricCard) {
                    metricId = metricCard.getAttribute('data-metric');
                } else if (chartContainer) {
                    const chartTitle = chartContainer.querySelector('.chart-title');
                    metricId = chartTitle ? chartTitle.textContent.toLowerCase().replace(/\s+/g, '-') : 'chart-analysis';
                }
                
                showWhatIfAnalysis(metricId);
            });
        });

        // Ask Agentforce functionality
        document.querySelectorAll('.ask-agentforce-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const context = this.closest('.metric-card, .chart-container, .watchlist-item');
                showAgentforceDialog(context);
            });
        });

        // View controls for watchlist
        document.querySelectorAll('.view-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                const view = this.getAttribute('data-view');
                switchWatchlistView(view);
            });
        });

        // Create Strategic Board functionality
        document.getElementById('add-strategic-board').addEventListener('click', function() {
            showCreateStrategicBoardModal();
        });

        function showMetricOverlay(metricId) {
            // Create overlay modal
            const overlay = document.createElement('div');
            overlay.className = 'metric-overlay';
            overlay.innerHTML = `
                <div class="overlay-content">
                    <div class="overlay-header">
                        <div class="header-content">
                            <div class="metric-icon">ðŸ“Š</div>
                            <div class="header-text">
                                <h2>Connected Metrics Analysis</h2>
                                <p class="metric-subtitle">${metricId.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}</p>
                            </div>
                        </div>
                        <button class="close-overlay">Ã—</button>
                    </div>
                    <div class="overlay-body">
                        <div class="metrics-overview">
                            <div class="overview-card primary">
                                <div class="card-icon">ðŸŽ¯</div>
                                <div class="card-content">
                                    <h4>Primary Metric</h4>
                                    <div class="metric-display">
                                        <span class="value">$24.8M</span>
                                        <span class="change positive">+12% QoQ</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="connected-section">
                            <h4 class="section-header">
                                <span class="section-icon">ðŸ”—</span>
                                Connected Cloud Metrics
                            </h4>
                            <div class="connected-grid">
                                <div class="connected-card sales">
                                    <div class="card-header">
                                        <span class="cloud-icon">ðŸ’°</span>
                                        <span class="cloud-name">Sales Cloud</span>
                                        <span class="connection-strength strong">Strong</span>
                                    </div>
                                    <div class="metric-name">Pipeline Health</div>
                                    <div class="metric-value">94% Healthy</div>
                                    <div class="correlation">+0.87 correlation</div>
                                </div>
                                
                                <div class="connected-card service">
                                    <div class="card-header">
                                        <span class="cloud-icon">ðŸ› ï¸</span>
                                        <span class="cloud-name">Service Cloud</span>
                                        <span class="connection-strength medium">Medium</span>
                                    </div>
                                    <div class="metric-name">Customer Satisfaction</div>
                                    <div class="metric-value">3.2/5</div>
                                    <div class="correlation">+0.64 correlation</div>
                                </div>
                                
                                <div class="connected-card marketing">
                                    <div class="card-header">
                                        <span class="cloud-icon">ðŸ“ˆ</span>
                                        <span class="cloud-name">Marketing Cloud</span>
                                        <span class="connection-strength strong">Strong</span>
                                    </div>
                                    <div class="metric-name">Campaign ROI</div>
                                    <div class="metric-value">340%</div>
                                    <div class="correlation">+0.79 correlation</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="impact-section">
                            <h4 class="section-header">
                                <span class="section-icon">ðŸŒ</span>
                                Cross-Cloud Impact Analysis
                            </h4>
                            <div class="impact-visualization">
                                <div class="impact-chart">
                                    <div class="chart-placeholder">
                                        <div class="chart-title">Revenue Impact Flow</div>
                                        <div class="flow-diagram">
                                            <div class="flow-node sales">Sales: $24.8M</div>
                                            <div class="flow-arrow">â†’</div>
                                            <div class="flow-node service">Service: 3.2 CSAT</div>
                                            <div class="flow-arrow">â†’</div>
                                            <div class="flow-node marketing">Marketing: 340% ROI</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="impact-insights">
                                    <div class="insight-item">
                                        <span class="insight-icon">ðŸ“ˆ</span>
                                        <span class="insight-text">Revenue increases drive marketing investment</span>
                                    </div>
                                    <div class="insight-item">
                                        <span class="insight-icon">âš ï¸</span>
                                        <span class="insight-text">Low CSAT may impact future revenue growth</span>
                                    </div>
                                    <div class="insight-item">
                                        <span class="insight-icon">ðŸŽ¯</span>
                                        <span class="insight-text">High marketing ROI supports continued investment</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="ai-section">
                            <h4 class="section-header">
                                <span class="section-icon">ðŸ¤–</span>
                                AI-Powered Strategic Insights
                            </h4>
                            <div class="ai-insights-content">
                                <div class="insight-card">
                                    <div class="insight-header">
                                        <span class="confidence-badge high">94% Confidence</span>
                                        <span class="insight-type">Strategic Recommendation</span>
                                    </div>
                                    <p class="insight-description">
                                        This metric significantly influences customer lifetime value across all touchpoints. 
                                        A 1% improvement here typically results in 2.3% increase in overall customer retention.
                                    </p>
                                </div>
                                <div class="prediction-card">
                                    <div class="prediction-header">
                                        <span class="prediction-icon">ðŸ”®</span>
                                        <span class="prediction-title">3-Month Forecast</span>
                                    </div>
                                    <div class="prediction-content">
                                        <div class="forecast-item">
                                            <span class="scenario">Optimistic:</span>
                                            <span class="value">+18% growth</span>
                                        </div>
                                        <div class="forecast-item">
                                            <span class="scenario">Realistic:</span>
                                            <span class="value">+12% growth</span>
                                        </div>
                                        <div class="forecast-item">
                                            <span class="scenario">Conservative:</span>
                                            <span class="value">+8% growth</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="overlay-footer">
                        <button class="action-btn secondary">Export Analysis</button>
                        <button class="action-btn primary ask-agentforce-btn">ðŸ¤– Deep Dive with Agentforce</button>
                    </div>
                </div>
            `;
            
            // Add enhanced overlay styles
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.6);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
                backdrop-filter: blur(4px);
            `;
            
            const content = overlay.querySelector('.overlay-content');
            content.style.cssText = `
                background: white;
                border-radius: 16px;
                max-width: 1200px;
                max-height: 90vh;
                width: 95%;
                overflow: hidden;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                animation: modalSlideIn 0.3s ease-out;
            `;
            
            // Add custom styles for the enhanced modal
            const style = document.createElement('style');
            style.textContent = `
                @keyframes modalSlideIn {
                    from { transform: scale(0.9) translateY(-20px); opacity: 0; }
                    to { transform: scale(1) translateY(0); opacity: 1; }
                }
                
                .overlay-header {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 2rem;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                
                .header-content {
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }
                
                .metric-icon {
                    font-size: 2.5rem;
                }
                
                .header-text h2 {
                    margin: 0;
                    font-size: 1.5rem;
                }
                
                .metric-subtitle {
                    margin: 0;
                    opacity: 0.9;
                    font-size: 1rem;
                }
                
                .close-overlay {
                    background: rgba(255,255,255,0.2);
                    border: none;
                    color: white;
                    font-size: 1.5rem;
                    width: 40px;
                    height: 40px;
                    border-radius: 50%;
                    cursor: pointer;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }
                
                .overlay-body {
                    padding: 2rem;
                    max-height: 60vh;
                    overflow-y: auto;
                }
                
                .metrics-overview {
                    margin-bottom: 2rem;
                }
                
                .overview-card {
                    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                    color: white;
                    padding: 1.5rem;
                    border-radius: 12px;
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                }
                
                .card-icon {
                    font-size: 2rem;
                }
                
                .metric-display {
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                    margin-top: 0.5rem;
                }
                
                .metric-display .value {
                    font-size: 2rem;
                    font-weight: bold;
                }
                
                .metric-display .change {
                    padding: 0.25rem 0.75rem;
                    border-radius: 20px;
                    background: rgba(255,255,255,0.2);
                    font-size: 0.875rem;
                }
                
                .connected-section, .impact-section, .ai-section {
                    margin-bottom: 2rem;
                }
                
                .section-header {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    margin-bottom: 1rem;
                    font-size: 1.125rem;
                    color: #333;
                }
                
                .section-icon {
                    font-size: 1.25rem;
                }
                
                .connected-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                    gap: 1rem;
                }
                
                .connected-card {
                    background: white;
                    border: 1px solid #e0e0e0;
                    border-radius: 8px;
                    padding: 1rem;
                    transition: all 0.3s ease;
                }
                
                .connected-card:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
                }
                
                .connected-card.sales { border-left: 4px solid #FF6B35; }
                .connected-card.service { border-left: 4px solid #0B827C; }
                .connected-card.marketing { border-left: 4px solid #8B5CF6; }
                
                .card-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 0.75rem;
                }
                
                .cloud-name {
                    font-weight: 600;
                    color: #333;
                }
                
                .connection-strength {
                    padding: 0.25rem 0.5rem;
                    border-radius: 12px;
                    font-size: 0.75rem;
                    font-weight: 600;
                }
                
                .connection-strength.strong {
                    background: rgba(76, 175, 80, 0.2);
                    color: #4CAF50;
                }
                
                .connection-strength.medium {
                    background: rgba(255, 152, 0, 0.2);
                    color: #FF9800;
                }
                
                .metric-name {
                    font-size: 0.875rem;
                    color: #666;
                    margin-bottom: 0.25rem;
                }
                
                .metric-value {
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: #333;
                    margin-bottom: 0.25rem;
                }
                
                .correlation {
                    font-size: 0.75rem;
                    color: #888;
                }
                
                .impact-visualization {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 2rem;
                }
                
                .chart-placeholder {
                    background: #f8f9fa;
                    border: 1px solid #e0e0e0;
                    border-radius: 8px;
                    padding: 1.5rem;
                    text-align: center;
                }
                
                .flow-diagram {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 0.5rem;
                    margin-top: 1rem;
                    flex-wrap: wrap;
                }
                
                .flow-node {
                    padding: 0.5rem 1rem;
                    border-radius: 20px;
                    font-size: 0.875rem;
                    font-weight: 600;
                }
                
                .flow-node.sales { background: rgba(255, 107, 53, 0.2); color: #E8590C; }
                .flow-node.service { background: rgba(11, 130, 124, 0.2); color: #0B827C; }
                .flow-node.marketing { background: rgba(139, 92, 246, 0.2); color: #8B5CF6; }
                
                .impact-insights {
                    display: flex;
                    flex-direction: column;
                    gap: 1rem;
                }
                
                .insight-item {
                    display: flex;
                    align-items: center;
                    gap: 0.75rem;
                    padding: 1rem;
                    background: #f8f9fa;
                    border-radius: 8px;
                }
                
                .ai-insights-content {
                    display: grid;
                    grid-template-columns: 2fr 1fr;
                    gap: 1.5rem;
                }
                
                .insight-card, .prediction-card {
                    background: #f8f9fa;
                    border-radius: 8px;
                    padding: 1.5rem;
                }
                
                .insight-header {
                    display: flex;
                    gap: 1rem;
                    margin-bottom: 1rem;
                }
                
                .confidence-badge.high {
                    background: rgba(76, 175, 80, 0.2);
                    color: #4CAF50;
                    padding: 0.25rem 0.75rem;
                    border-radius: 12px;
                    font-size: 0.75rem;
                    font-weight: 600;
                }
                
                .prediction-header {
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                    margin-bottom: 1rem;
                }
                
                .forecast-item {
                    display: flex;
                    justify-content: space-between;
                    padding: 0.5rem 0;
                    border-bottom: 1px solid #e0e0e0;
                }
                
                .overlay-footer {
                    background: #f8f9fa;
                    padding: 1.5rem 2rem;
                    display: flex;
                    justify-content: flex-end;
                    gap: 1rem;
                    border-top: 1px solid #e0e0e0;
                }
                
                .action-btn {
                    padding: 0.75rem 1.5rem;
                    border-radius: 6px;
                    font-weight: 600;
                    cursor: pointer;
                    border: none;
                }
                
                .action-btn.secondary {
                    background: white;
                    color: #333;
                    border: 1px solid #ccc;
                }
                
                .action-btn.primary {
                    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                    color: white;
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(overlay);
            
            // Close functionality
            overlay.querySelector('.close-overlay').addEventListener('click', () => {
                document.body.removeChild(overlay);
                document.head.removeChild(style);
            });
            
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    document.body.removeChild(overlay);
                    document.head.removeChild(style);
                }
            });
        }

        function showWhatIfAnalysis(metricId) {
            const modal = document.createElement('div');
            modal.className = 'what-if-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>ðŸŽ¯ What-If Analysis - ${formatMetricTitle(metricId)}</h3>
                        <button class="close-modal">Ã—</button>
                    </div>
                    <div class="modal-body">
                        <div class="scenario-section">
                            <h4>ðŸ“Š Scenario Planning</h4>
                            <div class="scenario-options">
                                <div class="scenario-card" data-scenario="0">
                                    <h5>Aggressive Growth Strategy</h5>
                                    <p>Increase investment by 25% and expand market reach</p>
                                    <div style="margin-top: 0.75rem; font-weight: 600; color: #00A862;">
                                        +22% Projected Impact
                                    </div>
                                </div>
                                <div class="scenario-card" data-scenario="1">
                                    <h5>Optimize Current Operations</h5>
                                    <p>Focus on efficiency improvements and cost reduction</p>
                                    <div style="margin-top: 0.75rem; font-weight: 600; color: #00A862;">
                                        +14% Projected Impact
                                    </div>
                                </div>
                                <div class="scenario-card" data-scenario="2">
                                    <h5>Technology Enhancement</h5>
                                    <p>Leverage AI and automation for better outcomes</p>
                                    <div style="margin-top: 0.75rem; font-weight: 600; color: #00A862;">
                                        +18% Projected Impact
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="impact-metrics">
                            <h4>ðŸ“ˆ Projected Impact Metrics</h4>
                            <div class="metrics-grid">
                                <div class="metric-item">
                                    <div class="metric-value">+15%</div>
                                    <div class="metric-label">Revenue Growth</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-value">-12%</div>
                                    <div class="metric-label">Cost Reduction</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-value">+20%</div>
                                    <div class="metric-label">Efficiency</div>
                                </div>
                                <div class="metric-item">
                                    <div class="metric-value">89%</div>
                                    <div class="metric-label">Confidence</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-secondary" onclick="this.closest('.what-if-modal').remove()">Cancel</button>
                            <button class="btn btn-primary" onclick="implementScenario('${metricId}')">Implement Selected</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Add scenario selection functionality
            modal.querySelectorAll('.scenario-card').forEach(card => {
                card.addEventListener('click', function() {
                    modal.querySelectorAll('.scenario-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    updateImpactMetrics(this.dataset.scenario);
                });
            });
            
            modal.querySelector('.close-modal').addEventListener('click', () => {
                document.body.removeChild(modal);
            });
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                }
            });
        }
        
        function formatMetricTitle(metricId) {
            return metricId.split('-').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1)
            ).join(' ');
        }
        
        function updateImpactMetrics(scenarioIndex) {
            // This would update the impact metrics based on selected scenario
            console.log('Selected scenario:', scenarioIndex);
        }
        
        function implementScenario(metricId) {
            alert(`Implementing scenario for ${formatMetricTitle(metricId)}. This would trigger the actual implementation workflow.`);
            document.querySelector('.what-if-modal').remove();
        }

        function showAgentforceDialog(context) {
            const metricName = typeof context === 'string' ? context.replace('-', ' ').toUpperCase() : 'METRIC';
            const dialog = document.createElement('div');
            dialog.className = 'agentforce-dialog';
            dialog.innerHTML = `
                <div class="dialog-content">
                    <div class="dialog-header">
                        <h3>ðŸ¤– Agentforce Assistant</h3>
                        <button class="close-dialog">Ã—</button>
                    </div>
                    <div class="dialog-body">
                        <div class="chat-area">
                            <div class="agent-message">
                                <p>I'm analyzing the data for you. What specific insights would you like me to provide?</p>
                            </div>
                        </div>
                        <div class="input-area">
                            <input type="text" placeholder="Ask me anything about this metric..." class="agent-input">
                            <button class="send-btn">Send</button>
                        </div>
                    </div>
                </div>
            `;
            
            dialog.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                width: 400px;
                background: white;
                border-radius: 8px;
                box-shadow: 0 8px 24px rgba(0,0,0,0.15);
                z-index: 1000;
                border: 1px solid #ccc;
            `;
            
            document.body.appendChild(dialog);
            
            dialog.querySelector('.close-dialog').addEventListener('click', () => {
                document.body.removeChild(dialog);
            });
        }

        function switchWatchlistView(view) {
            const container = document.getElementById('executive-watchlist');
            
            switch(view) {
                case 'kanban':
                    container.innerHTML = `
                        <div class="kanban-board">
                            <div class="kanban-column">
                                <h4>ðŸ”´ Urgent</h4>
                                <div class="kanban-item">Customer Satisfaction Recovery</div>
                            </div>
                            <div class="kanban-column">
                                <h4>ðŸŸ¡ High</h4>
                                <div class="kanban-item">Q4 Revenue Target</div>
                            </div>
                            <div class="kanban-column">
                                <h4>ðŸŸ¢ Medium</h4>
                                <div class="kanban-item">AI Expansion Initiative</div>
                            </div>
                        </div>
                    `;
                    break;
                case 'gantt':
                    container.innerHTML = `
                        <div class="gantt-chart">
                            <div class="gantt-header">ðŸ“… Executive Timeline</div>
                            <div class="gantt-item">
                                <span class="gantt-task">Customer Satisfaction Recovery</span>
                                <div class="gantt-bar" style="width: 34%; background: #ff4444;"></div>
                            </div>
                            <div class="gantt-item">
                                <span class="gantt-task">Q4 Revenue Target</span>
                                <div class="gantt-bar" style="width: 78%; background: #ffaa00;"></div>
                            </div>
                            <div class="gantt-item">
                                <span class="gantt-task">AI Expansion Initiative</span>
                                <div class="gantt-bar" style="width: 92%; background: #44ff44;"></div>
                            </div>
                        </div>
                    `;
                    break;
                default: // list view
                    container.innerHTML = `
                        <div class="watchlist-item priority-high">
                            <div class="item-header">
                                <span class="item-title">Customer Satisfaction Recovery</span>
                                <span class="tag urgent">Urgent</span>
                                <span class="tag service">Service</span>
                            </div>
                            <div class="item-details">CSAT dropped to 3.2/5 - immediate action required</div>
                            <div class="item-progress">Progress: 34%</div>
                            <button class="ask-agentforce-btn">ðŸ¤– Ask Agentforce</button>
                        </div>
                        <div class="watchlist-item priority-medium">
                            <div class="item-header">
                                <span class="item-title">Q4 Revenue Target</span>
                                <span class="tag high">High</span>
                                <span class="tag sales">Sales</span>
                            </div>
                            <div class="item-details">$15M target - currently at 78% completion</div>
                            <div class="item-progress">Progress: 78%</div>
                            <button class="ask-agentforce-btn">ðŸ¤– Ask Agentforce</button>
                        </div>
                        <div class="watchlist-item priority-low">
                            <div class="item-header">
                                <span class="item-title">AI Expansion Initiative</span>
                                <span class="tag medium">Medium</span>
                                <span class="tag ai">AI</span>
                            </div>
                            <div class="item-details">Scale successful AI implementations across all units</div>
                            <div class="item-progress">Progress: 92%</div>
                            <button class="ask-agentforce-btn">ðŸ¤– Ask Agentforce</button>
                        </div>
                    `;
                    
                    // Re-attach event listeners for Ask Agentforce buttons
                    container.querySelectorAll('.ask-agentforce-btn').forEach(btn => {
                        btn.addEventListener('click', function(e) {
                            e.stopPropagation();
                            showAgentforceDialog(this.closest('.watchlist-item'));
                        });
                    });
                    break;
            }
        }

        // Alert selection functionality
        document.querySelectorAll('.feed-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (e.target.tagName === 'BUTTON') return; // Don't trigger on button clicks
                
                // Remove selected class from all items
                document.querySelectorAll('.feed-item').forEach(i => i.classList.remove('selected'));
                
                // Add selected class to clicked item
                this.classList.add('selected');
                
                // Show comprehensive alert details
                showComprehensiveAlertDetails();
            });
        });

        // Show comprehensive alert details
        function showComprehensiveAlertDetails() {
            const emptyState = document.querySelector('.alert-detail-empty');
            const fullDetails = document.querySelector('.alert-detail-full');
            
            if (emptyState && fullDetails) {
                emptyState.style.display = 'none';
                fullDetails.style.display = 'block';
            }
        }

        // Action CTA handlers with status change
        document.querySelectorAll('.action-cta').forEach(button => {
            button.addEventListener('click', function() {
                const actionItem = this.closest('.action-item');
                const statusElement = actionItem.querySelector('.action-status');
                const actionType = this.getAttribute('data-action');
                
                // Change status to completed
                statusElement.textContent = 'Completed';
                statusElement.className = 'action-status completed';
                
                // Disable the buttons
                const ctaContainer = this.parentElement;
                ctaContainer.innerHTML = '<span style="color: #065F46; font-weight: 600;">âœ“ Action Taken</span>';
                
                // Show success feedback
                this.style.background = '#065F46';
                this.textContent = 'âœ“ Done';
                
                console.log(`Action taken: ${actionType}`);
            });
        });

        // Slack integration handlers
        document.querySelectorAll('.slack-dm').forEach(button => {
            button.addEventListener('click', function() {
                const user = this.getAttribute('data-user');
                // In real implementation, this would open Slack DM
                alert(`Opening Slack DM with ${user}`);
            });
        });

        document.querySelectorAll('.slack-channel').forEach(button => {
            button.addEventListener('click', function() {
                const channel = this.getAttribute('data-channel');
                // In real implementation, this would open Slack channel
                alert(`Opening Slack channel: ${channel}`);
            });
        });

        // Board link handlers
        document.querySelectorAll('.board-link').forEach(button => {
            button.addEventListener('click', function() {
                const boardId = this.getAttribute('data-board');
                // In real implementation, this would navigate to the strategy board
                alert(`Navigating to strategy board: ${boardId}`);
            });
        });

        // Ask Agentforce handler
        const askAgentforceBtn = document.querySelector('.ask-agentforce-cta');
        if (askAgentforceBtn) {
            askAgentforceBtn.addEventListener('click', function() {
            // In real implementation, this would open Agentforce dialog
            alert('Opening Agentforce AI Analysis...');
        });
        }

        // Strategy board selection functionality
        document.querySelectorAll('.strategy-board').forEach(board => {
            board.addEventListener('click', function(e) {
                if (e.target.tagName === 'BUTTON') return;
                
                document.querySelectorAll('.strategy-board').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
                
                const strategyId = this.getAttribute('data-strategy-id');
                const details = strategyDetails[strategyId];
                
                if (details) {
                    showStrategyDetails(details);
                }
            });
        });

        function showAlertDetails(details) {
            const detailContent = document.querySelector('.alert-detail-content');
            
            detailContent.innerHTML = `
                <div class="alert-detail-title">${details.title}</div>
                
                <div class="alert-detail-meta">
                    <div class="meta-item">
                        <div class="meta-label">Priority</div>
                        <div class="meta-value" style="color: ${details.priority === 'Critical' ? '#C23934' : details.priority === 'Warning' ? '#FFB75D' : '#04844B'}">${details.priority}</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Source</div>
                        <div class="meta-value">${details.source}</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Impact</div>
                        <div class="meta-value">${details.impact}</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Time</div>
                        <div class="meta-value">${details.timestamp}</div>
                    </div>
                </div>
                
                <div class="alert-description">${details.description}</div>
                
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="margin-bottom: 1rem; font-weight: 600;">Critical Metrics</h4>
                    <div class="alert-detail-meta">
                        ${Object.entries(details.metrics).map(([key, value]) => `
                            <div class="meta-item">
                                <div class="meta-label">${key}</div>
                                <div class="meta-value">${value}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="margin-bottom: 1rem; font-weight: 600;">Executive Action Plan</h4>
                    <ul style="padding-left: 1.5rem; line-height: 1.6;">
                        ${details.recommendations.map(rec => `<li style="margin-bottom: 0.5rem;">${rec}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="alert-actions">
                    <button class="action-primary">Execute Plan</button>
                    <button class="action-secondary">Board Briefing</button>
                </div>
            `;
        }

        function showStrategyDetails(details) {
            const detailContent = document.querySelector('.strategy-detail-content');
            
            detailContent.innerHTML = `
                <div class="alert-detail-title">${details.title}</div>
                
                <div class="alert-detail-meta">
                    <div class="meta-item">
                        <div class="meta-label">Status</div>
                        <div class="meta-value" style="color: ${details.status === 'On Track' ? '#04844B' : details.status === 'Needs Attention' ? '#FFB75D' : '#04844B'}">${details.status}</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Progress</div>
                        <div class="meta-value">${details.progress}%</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Last Updated</div>
                        <div class="meta-value">Today</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Executive Owner</div>
                        <div class="meta-value">CEO</div>
                    </div>
                </div>
                
                <div class="alert-description">${details.description}</div>
                
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="margin-bottom: 1rem; font-weight: 600;">Strategic Analytics & Visualizations</h4>
                    ${details.charts.map(chart => `
                        <div class="strategy-chart">${chart}</div>
                    `).join('')}
                </div>
                
                <div class="prediction-section">
                    <h4 style="margin-bottom: 1rem; font-weight: 600;">ðŸ¤– ${details.predictions.title}</h4>
                    <div style="margin-bottom: 1rem;">
                        <strong>Strategic Forecast:</strong> ${details.predictions.forecast} 
                        <span style="color: #4CAF50; margin-left: 1rem;">AI Confidence: ${details.predictions.confidence}</span>
                    </div>
                    <div>
                        <strong>Key Success Factors:</strong>
                        <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                            ${details.predictions.factors.map(factor => `<li>${factor}</li>`).join('')}
                        </ul>
                    </div>
                </div>
                
                <div class="what-if-section">
                    <h4 style="margin-bottom: 1rem; font-weight: 600;">ðŸŽ¯ Strategic Scenario Analysis</h4>
                    ${details.whatIf.map(scenario => `
                        <div style="margin-bottom: 1rem; padding: 0.75rem; background: rgba(255,255,255,0.7); border-radius: 4px;">
                            <div style="font-weight: 600;">${scenario.scenario}</div>
                            <div style="color: #0176D3; font-weight: 600;">${scenario.impact}</div>
                            <div style="font-size: 0.875rem; color: #666;">Executive Assessment: ${scenario.probability} Probability</div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="alert-actions">
                    <button class="action-primary">Strategic Decision</button>
                    <button class="action-secondary">Deep Dive Analysis</button>
                </div>
            `;
        }

        // Action button handlers
        document.querySelectorAll('.feed-action').forEach(button => {
            button.addEventListener('click', function(e) {
                e.stopPropagation();
                console.log('Executive action:', this.textContent);
            });
        });

        document.querySelectorAll('.board-action').forEach(button => {
            button.addEventListener('click', function(e) {
                e.stopPropagation();
                console.log('Strategic board action:', this.textContent);
            });
        });

        function showCreateStrategicBoardModal() {
            const modal = document.createElement('div');
            modal.className = 'create-board-modal';
            modal.innerHTML = `
                <div class="modal-content strategy-board-creator">
                    <div class="modal-header">
                        <div class="header-content">
                            <div class="header-icon">ðŸŽ¯</div>
                            <div class="header-text">
                                <h2>Create Strategy Board</h2>
                                <p>Build strategic initiatives with AI-powered insights and templates</p>
                            </div>
                        </div>
                        <button class="close-modal">Ã—</button>
                    </div>
                    
                    <div class="modal-body">
                        <div class="creation-steps">
                            <div class="step-indicator">
                                <div class="step active" data-step="1">
                                    <span class="step-number">1</span>
                                    <span class="step-label">Template</span>
                                </div>
                                <div class="step" data-step="2">
                                    <span class="step-number">2</span>
                                    <span class="step-label">Details</span>
                                </div>
                                <div class="step" data-step="3">
                                    <span class="step-number">3</span>
                                    <span class="step-label">AI Analysis</span>
                                </div>
                            </div>
                        </div>

                        <!-- Step 1: Template Selection -->
                        <div class="step-content active" id="step-1">
                            <div class="step-title">
                                <h3>Choose a Strategy Template</h3>
                                <p>Select a template that best matches your strategic objective</p>
                            </div>
                            
                            <div class="template-gallery">
                                <div class="template-card" data-template="revenue-growth">
                                    <div class="template-header">
                                        <div class="template-icon">ðŸ“ˆ</div>
                                        <div class="template-badge">Popular</div>
                                    </div>
                                    <div class="template-content">
                                        <h4>Revenue Growth Strategy</h4>
                                        <p>Accelerate revenue through market expansion, customer acquisition, and product innovation</p>
                                        <div class="template-metrics">
                                            <span class="metric">â€¢ Revenue targets</span>
                                            <span class="metric">â€¢ Market analysis</span>
                                            <span class="metric">â€¢ Growth initiatives</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="template-card" data-template="digital-transformation">
                                    <div class="template-header">
                                        <div class="template-icon">ðŸš€</div>
                                        <div class="template-badge">AI-Powered</div>
                                    </div>
                                    <div class="template-content">
                                        <h4>Digital Transformation</h4>
                                        <p>Modernize operations and enhance customer experience through technology</p>
                                        <div class="template-metrics">
                                            <span class="metric">â€¢ Technology roadmap</span>
                                            <span class="metric">â€¢ Process optimization</span>
                                            <span class="metric">â€¢ ROI tracking</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="template-card" data-template="market-expansion">
                                    <div class="template-header">
                                        <div class="template-icon">ðŸŒ</div>
                                        <div class="template-badge">Global</div>
                                    </div>
                                    <div class="template-content">
                                        <h4>Market Expansion</h4>
                                        <p>Enter new markets and capture new customer segments globally</p>
                                        <div class="template-metrics">
                                            <span class="metric">â€¢ Market research</span>
                                            <span class="metric">â€¢ Competitive analysis</span>
                                            <span class="metric">â€¢ Launch strategy</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="template-card" data-template="customer-experience">
                                    <div class="template-header">
                                        <div class="template-icon">ðŸ’«</div>
                                        <div class="template-badge">CX Focus</div>
                                    </div>
                                    <div class="template-content">
                                        <h4>Customer Experience</h4>
                                        <p>Improve satisfaction, loyalty, and lifetime value through experience optimization</p>
                                        <div class="template-metrics">
                                            <span class="metric">â€¢ CSAT tracking</span>
                                            <span class="metric">â€¢ Journey mapping</span>
                                            <span class="metric">â€¢ NPS improvement</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="template-card" data-template="operational-excellence">
                                    <div class="template-header">
                                        <div class="template-icon">âš™ï¸</div>
                                        <div class="template-badge">Efficiency</div>
                                    </div>
                                    <div class="template-content">
                                        <h4>Operational Excellence</h4>
                                        <p>Optimize processes, reduce costs, and improve efficiency across operations</p>
                                        <div class="template-metrics">
                                            <span class="metric">â€¢ Cost reduction</span>
                                            <span class="metric">â€¢ Process optimization</span>
                                            <span class="metric">â€¢ Quality metrics</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="template-card" data-template="custom">
                                    <div class="template-header">
                                        <div class="template-icon">âœ¨</div>
                                        <div class="template-badge">Custom</div>
                                    </div>
                                    <div class="template-content">
                                        <h4>Custom Strategy</h4>
                                        <p>Start with a blank canvas and build your strategy with AI assistance</p>
                                        <div class="template-metrics">
                                            <span class="metric">â€¢ Flexible framework</span>
                                            <span class="metric">â€¢ AI guidance</span>
                                            <span class="metric">â€¢ Custom metrics</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Strategy Details -->
                        <div class="step-content" id="step-2">
                            <div class="step-title">
                                <h3>Strategy Details</h3>
                                <p>Provide key information for your strategic initiative</p>
                            </div>
                            
                            <div class="details-form">
                                <div class="selected-template-preview">
                                    <div class="preview-icon"></div>
                                    <div class="preview-content">
                                        <h4 class="preview-title"></h4>
                                        <p class="preview-description"></p>
                                    </div>
                                </div>

                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Initiative Title *</label>
                                        <input type="text" id="board-title" placeholder="e.g., Q1 Revenue Acceleration Strategy">
                                        <small>Give your strategy board a clear, descriptive name</small>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Target Outcome *</label>
                                        <input type="text" id="board-target" placeholder="e.g., $15M revenue, 25% growth">
                                        <small>Define the primary success metric</small>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Timeline</label>
                                        <select id="board-timeline">
                                            <option value="Q1 2024">Q1 2024</option>
                                            <option value="Q2 2024">Q2 2024</option>
                                            <option value="Q3 2024">Q3 2024</option>
                                            <option value="Q4 2024">Q4 2024</option>
                                            <option value="FY 2024">FY 2024</option>
                                            <option value="FY 2025">FY 2025</option>
                                        </select>
                                        <small>When do you plan to achieve this objective?</small>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Priority Level</label>
                                        <select id="board-priority">
                                            <option value="high">High - Critical to business success</option>
                                            <option value="medium">Medium - Important but not urgent</option>
                                            <option value="low">Low - Nice to have improvement</option>
                                        </select>
                                        <small>How critical is this initiative?</small>
                                    </div>
                                </div>
                                
                                <div class="form-group full-width">
                                    <label>Strategic Context</label>
                                    <textarea id="board-description" placeholder="Provide context about why this strategy is important, what challenges it addresses, and how it aligns with company objectives..." rows="4"></textarea>
                                    <small>Help AI understand the strategic context for better recommendations</small>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: AI Analysis -->
                        <div class="step-content" id="step-3">
                            <div class="step-title">
                                <h3>AI Strategy Analysis</h3>
                                <p>Review AI-generated insights and recommendations</p>
                            </div>
                            
                            <div class="ai-analysis-preview">
                                <div class="analysis-loading">
                                    <div class="loading-spinner"></div>
                                    <p>Agentforce is analyzing your strategy...</p>
                                    <div class="loading-steps">
                                        <div class="loading-step completed">âœ“ Market data analysis</div>
                                        <div class="loading-step completed">âœ“ Historical performance review</div>
                                        <div class="loading-step active">â³ Generating recommendations</div>
                                        <div class="loading-step">â³ Creating action plan</div>
                                    </div>
                                </div>
                                
                                <div class="analysis-results" style="display: none;">
                                    <div class="ai-insights">
                                        <h4>ðŸ¤– AI Insights</h4>
                                        <div class="insight-card">
                                            <div class="insight-icon">ðŸ“Š</div>
                                            <div class="insight-content">
                                                <h5>Market Opportunity</h5>
                                                <p>Based on current trends, there's a 34% growth potential in your target market</p>
                                            </div>
                                        </div>
                                        <div class="insight-card">
                                            <div class="insight-icon">âš ï¸</div>
                                            <div class="insight-content">
                                                <h5>Key Risks</h5>
                                                <p>Competition intensity is high. Recommend differentiation strategy</p>
                                            </div>
                                        </div>
                                        <div class="insight-card">
                                            <div class="insight-icon">ðŸŽ¯</div>
                                            <div class="insight-content">
                                                <h5>Success Probability</h5>
                                                <p>87% likelihood of achieving targets with recommended action plan</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <div class="footer-actions">
                            <button type="button" class="btn-secondary" onclick="closeCreateBoardModal()">Cancel</button>
                            <button type="button" class="btn-back" id="back-btn" style="display: none;" onclick="previousStep()">â† Back</button>
                            <button type="button" class="btn-primary" id="next-btn" onclick="nextStep()">Continue â†’</button>
                            <button type="button" class="btn-primary" id="create-btn" style="display: none;" onclick="createStrategicBoard()">
                                ðŸ¤– Create Strategy Board
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.6);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
                backdrop-filter: blur(4px);
            `;
            
            document.body.appendChild(modal);
            
            // Initialize modal functionality
            initializeStrategyBoardCreator(modal);
        }

        function initializeStrategyBoardCreator(modal) {
            let currentStep = 1;
            let selectedTemplate = null;
            
            // Global functions for modal
            window.closeCreateBoardModal = () => {
                document.body.removeChild(modal);
            };
            
            window.nextStep = () => {
                if (currentStep === 1 && !selectedTemplate) {
                    alert('Please select a template to continue');
                    return;
                }
                
                if (currentStep === 2) {
                    const title = modal.querySelector('#board-title').value;
                    const target = modal.querySelector('#board-target').value;
                    
                    if (!title || !target) {
                        alert('Please fill in the required fields (Title and Target Outcome)');
                        return;
                    }
                    
                    // Start AI analysis
                    startAIAnalysis(modal);
                }
                
                if (currentStep < 3) {
                    currentStep++;
                    updateStepDisplay(modal, currentStep);
                }
            };
            
            window.previousStep = () => {
                if (currentStep > 1) {
                    currentStep--;
                    updateStepDisplay(modal, currentStep);
                }
            };
            
            window.createStrategicBoard = () => {
                const title = modal.querySelector('#board-title').value;
                const target = modal.querySelector('#board-target').value;
                const timeline = modal.querySelector('#board-timeline').value;
                const priority = modal.querySelector('#board-priority').value;
                const description = modal.querySelector('#board-description').value;
                
                // Create new strategic board
                addNewStrategicBoard({ 
                    title, 
                    category: selectedTemplate, 
                    target, 
                    timeline, 
                    priority,
                    description 
                });
                
                // Close modal and show success
                document.body.removeChild(modal);
                showSuccessMessage('ðŸŽ¯ Strategy board created successfully! AI analysis and recommendations have been generated.');
            };
            
            // Template selection functionality
            modal.querySelectorAll('.template-card').forEach(card => {
                card.addEventListener('click', function() {
                    // Remove previous selection
                    modal.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected'));
                    
                    // Select current template
                    this.classList.add('selected');
                    selectedTemplate = this.getAttribute('data-template');
                    
                    // Update template preview for step 2
                    updateTemplatePreview(modal, selectedTemplate);
                    
                    // Enable continue button
                    modal.querySelector('#next-btn').disabled = false;
                });
            });
            
            // Close functionality
            modal.querySelector('.close-modal').addEventListener('click', () => {
                document.body.removeChild(modal);
            });
            
            // Initialize first step
            updateStepDisplay(modal, 1);
        }
        
        function updateStepDisplay(modal, step) {
            // Update step indicators
            modal.querySelectorAll('.step').forEach((stepEl, index) => {
                stepEl.classList.remove('active', 'completed');
                if (index + 1 === step) {
                    stepEl.classList.add('active');
                } else if (index + 1 < step) {
                    stepEl.classList.add('completed');
                }
            });
            
            // Update step content
            modal.querySelectorAll('.step-content').forEach((content, index) => {
                content.classList.remove('active');
                if (index + 1 === step) {
                    content.classList.add('active');
                }
            });
            
            // Update footer buttons
            const backBtn = modal.querySelector('#back-btn');
            const nextBtn = modal.querySelector('#next-btn');
            const createBtn = modal.querySelector('#create-btn');
            
            if (step === 1) {
                backBtn.style.display = 'none';
                nextBtn.style.display = 'inline-block';
                createBtn.style.display = 'none';
                nextBtn.textContent = 'Continue â†’';
            } else if (step === 2) {
                backBtn.style.display = 'inline-block';
                nextBtn.style.display = 'inline-block';
                createBtn.style.display = 'none';
                nextBtn.textContent = 'Analyze with AI â†’';
            } else if (step === 3) {
                backBtn.style.display = 'inline-block';
                nextBtn.style.display = 'none';
                createBtn.style.display = 'inline-block';
            }
        }
        
        function updateTemplatePreview(modal, templateType) {
            const templates = {
                'revenue-growth': {
                    icon: 'ðŸ“ˆ',
                    title: 'Revenue Growth Strategy',
                    description: 'Accelerate revenue through market expansion, customer acquisition, and product innovation'
                },
                'digital-transformation': {
                    icon: 'ðŸš€',
                    title: 'Digital Transformation',
                    description: 'Modernize operations and enhance customer experience through technology'
                },
                'market-expansion': {
                    icon: 'ðŸŒ',
                    title: 'Market Expansion',
                    description: 'Enter new markets and capture new customer segments globally'
                },
                'customer-experience': {
                    icon: 'ðŸ’«',
                    title: 'Customer Experience',
                    description: 'Improve satisfaction, loyalty, and lifetime value through experience optimization'
                },
                'operational-excellence': {
                    icon: 'âš™ï¸',
                    title: 'Operational Excellence',
                    description: 'Optimize processes, reduce costs, and improve efficiency across operations'
                },
                'custom': {
                    icon: 'âœ¨',
                    title: 'Custom Strategy',
                    description: 'Start with a blank canvas and build your strategy with AI assistance'
                }
            };
            
            const template = templates[templateType];
            if (template) {
                modal.querySelector('.preview-icon').textContent = template.icon;
                modal.querySelector('.preview-title').textContent = template.title;
                modal.querySelector('.preview-description').textContent = template.description;
                
                // Pre-fill some fields based on template
                if (templateType === 'revenue-growth') {
                    modal.querySelector('#board-title').placeholder = 'e.g., Q1 Revenue Acceleration Strategy';
                    modal.querySelector('#board-target').placeholder = 'e.g., $15M revenue, 25% growth';
                } else if (templateType === 'customer-experience') {
                    modal.querySelector('#board-title').placeholder = 'e.g., Customer Experience Excellence Program';
                    modal.querySelector('#board-target').placeholder = 'e.g., CSAT 4.5/5, NPS +20';
                }
            }
        }
        
        function startAIAnalysis(modal) {
            const loadingDiv = modal.querySelector('.analysis-loading');
            const resultsDiv = modal.querySelector('.analysis-results');
            
            // Show loading
            loadingDiv.style.display = 'block';
            resultsDiv.style.display = 'none';
            
            // Simulate AI analysis steps
            setTimeout(() => {
                const steps = modal.querySelectorAll('.loading-step');
                steps[2].classList.remove('active');
                steps[2].classList.add('completed');
                steps[3].classList.add('active');
            }, 1500);
            
            setTimeout(() => {
                const steps = modal.querySelectorAll('.loading-step');
                steps[3].classList.remove('active');
                steps[3].classList.add('completed');
                
                // Show results
                loadingDiv.style.display = 'none';
                resultsDiv.style.display = 'block';
            }, 3000);
        }

        function openStrategyBoardDetail(boardId) {
            // Open the strategy board detail in a new tab
            const url = `Strategy_Board_Detail.html?id=${boardId}`;
            window.open(url, '_blank');
        }

        function addNewStrategicBoard(boardData) {
            const strategicSection = document.querySelector('.strategy-boards-grid');
            const newBoard = document.createElement('div');
            newBoard.className = 'strategy-board-card clickable';
            const boardId = Date.now();
            newBoard.setAttribute('data-strategy-id', boardId);
            newBoard.setAttribute('onclick', `openStrategyBoardDetail(${boardId})`);
            
            const categoryTags = {
                'revenue': '<span class="tag sales">Revenue</span>',
                'cx': '<span class="tag service">CX</span>',
                'operations': '<span class="tag operations">Ops</span>',
                'innovation': '<span class="tag innovation">Innovation</span>',
                'sustainability': '<span class="tag sustainability">ESG</span>'
            };
            
            newBoard.innerHTML = `
                <div class="board-header">
                    <div class="board-title">${boardData.title}</div>
                    ${categoryTags[boardData.category] || '<span class="tag">New</span>'}
                </div>
                <div class="board-status-indicator on-track">Planning</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 5%"></div>
                    <span class="progress-text">5%</span>
                </div>
                <div class="board-metrics">
                    <div class="metric-item">
                        <span class="metric-label">Target:</span>
                        <span class="metric-value">${boardData.target}</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">Status:</span>
                        <span class="metric-value">Planning</span>
                    </div>
                </div>
                <div class="board-meta">
                    <span class="timeline">${boardData.timeline}</span>
                    <span class="owner">CEO</span>
                </div>
            `;
            
            strategicSection.appendChild(newBoard);
            
            // Add event listeners
            newBoard.addEventListener('click', function(e) {
                if (e.target.tagName === 'BUTTON') return;
                document.querySelectorAll('.strategy-board').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
                showNewBoardDetails(boardData);
            });
            
            newBoard.querySelectorAll('.what-if-btn, .ask-agentforce-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    if (this.classList.contains('what-if-btn')) {
                        showWhatIfAnalysis(boardData.title);
                    } else {
                        showAgentforceDialog(newBoard);
                    }
                });
            });
        }

        function showNewBoardDetails(boardData) {
            const detailContent = document.querySelector('.strategy-detail-content');
            detailContent.innerHTML = `
                <div class="alert-detail-title">${boardData.title}</div>
                <div class="alert-detail-meta">
                    <div class="meta-item">
                        <div class="meta-label">Status</div>
                        <div class="meta-value" style="color: #FFB75D">Planning</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Timeline</div>
                        <div class="meta-value">${boardData.timeline}</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">Target</div>
                        <div class="meta-value">${boardData.target}</div>
                    </div>
                    <div class="meta-item">
                        <div class="meta-label">AI Confidence</div>
                        <div class="meta-value">87%</div>
                    </div>
                </div>
                <div class="alert-description">${boardData.description}</div>
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="margin-bottom: 1rem; font-weight: 600;">AI-Generated Analytics</h4>
                    <div class="strategy-chart">ðŸ“Š Predictive Success Model</div>
                    <div class="strategy-chart">ðŸ“ˆ Resource Requirement Analysis</div>
                </div>
                <div class="prediction-section">
                    <h4 style="margin-bottom: 1rem; font-weight: 600;">ðŸ¤– AI Success Prediction</h4>
                    <div style="margin-bottom: 1rem;">
                        <strong>Success Probability:</strong> 87% with current resources
                    </div>
                </div>
                <div class="alert-actions">
                    <button class="action-primary">Launch Initiative</button>
                    <button class="action-secondary">Refine Strategy</button>
                </div>
            `;
        }

        function showSuccessMessage(message) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                z-index: 1001;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => document.body.removeChild(toast), 4000);
        }

        // Real-time updates
        setInterval(() => {
            const timestamps = document.querySelectorAll('.feed-timestamp');
            timestamps.forEach((timestamp, index) => {
                const currentText = timestamp.textContent;
                if (currentText.includes('min ago')) {
                    const minutes = parseInt(currentText) + 1;
                    timestamp.textContent = `${minutes} min ago`;
                }
            });
        }, 60000);

        // Watchlist view switching functionality
        function initializeWatchlistViewSwitching() {
            const viewToggleButtons = document.querySelectorAll('.watchlist-controls .view-toggle');
            const watchlistViews = document.querySelectorAll('.watchlist-view');

            viewToggleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetView = this.getAttribute('data-view');
                    
                    // Remove active class from all buttons
                    viewToggleButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Hide all views
                    watchlistViews.forEach(view => view.classList.remove('active'));
                    // Show target view
                    const targetViewElement = document.getElementById(targetView + '-view');
                    if (targetViewElement) {
                        targetViewElement.classList.add('active');
                    }
                });
            });
        }

        // Kanban drag and drop functionality
        function initializeKanbanDragDrop() {
            const kanbanCards = document.querySelectorAll('.kanban-card');
            const kanbanColumns = document.querySelectorAll('.kanban-items');

            kanbanCards.forEach(card => {
                card.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', this.outerHTML);
                    e.dataTransfer.effectAllowed = 'move';
                    this.style.opacity = '0.5';
                });

                card.addEventListener('dragend', function(e) {
                    this.style.opacity = '1';
                });
            });

            kanbanColumns.forEach(column => {
                column.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    e.dataTransfer.dropEffect = 'move';
                    this.style.background = 'rgba(1, 118, 211, 0.05)';
                });

                column.addEventListener('dragleave', function(e) {
                    this.style.background = '';
                });

                column.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.style.background = '';
                    
                    const cardHTML = e.dataTransfer.getData('text/plain');
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = cardHTML;
                    const newCard = tempDiv.firstChild;
                    
                    // Remove the original card
                    const draggedCard = document.querySelector('.kanban-card[style*="opacity: 0.5"]');
                    if (draggedCard) {
                        draggedCard.remove();
                    }
                    
                    // Add the new card to this column
                    this.appendChild(newCard);
                    
                    // Update item counts
                    updateKanbanCounts();
                    
                    // Re-initialize drag and drop for the new card
                    initializeKanbanDragDrop();
                });
            });
        }

        function updateKanbanCounts() {
            const columns = document.querySelectorAll('.kanban-column');
            columns.forEach(column => {
                const items = column.querySelectorAll('.kanban-card');
                const countElement = column.querySelector('.item-count');
                if (countElement) {
                    countElement.textContent = items.length;
                }
            });
        }

        // Chart initialization flag
        var chartsInitialized = false;

        // Manual chart initialization for debugging
        function forceInitializeCharts() {
            try {
                console.log('FORCE: Resetting chart initialization...');
                chartsInitialized = false;
                initializeCharts();
            } catch (error) {
                console.error('Error in forceInitializeCharts:', error);
            }
        }

        // Make function available globally for debugging
        window.forceInitializeCharts = forceInitializeCharts;
        window.testAgentforceToggle = toggleAgentforceChat;
        
        // Simple debug functions
        window.simpleTest = function() {
            console.log('Simple test working');
        };
        
        window.checkButton = function() {
            const btn = document.getElementById('agentforce-toggle');
            console.log('Button exists:', !!btn);
            if (btn) {
                console.log('Button classes:', btn.className);
                console.log('Button onclick:', btn.onclick);
            }
        };
        
        // Agentforce debug function
        window.debugAgentforce = function() {
            console.log('=== AGENTFORCE DEBUG ===');
            
            const elements = {
                floating: document.getElementById('agentforce-floating'),
                toggle: document.getElementById('agentforce-toggle'),
                container: document.getElementById('agentforce-chat-container'),
                notification: document.getElementById('agentforce-notification'),
                input: document.getElementById('enhanced-chat-input')
            };
            
            Object.entries(elements).forEach(([name, element]) => {
                console.log(`${name}:`, element ? 'Found' : 'NOT FOUND');
                if (element) {
                    console.log(`  - Visible: ${element.offsetParent !== null}`);
                    console.log(`  - Classes: ${element.className}`);
                    if (name === 'toggle') {
                        const styles = window.getComputedStyle(element);
                        console.log(`  - Position: ${styles.position}`);
                        console.log(`  - Z-index: ${styles.zIndex}`);
                        console.log(`  - Pointer Events: ${styles.pointerEvents}`);
                        console.log(`  - Display: ${styles.display}`);
                    }
                    if (name === 'container') {
                        const styles = window.getComputedStyle(element);
                        console.log(`  - Opacity: ${styles.opacity}`);
                        console.log(`  - Visibility: ${styles.visibility}`);
                        console.log(`  - Transform: ${styles.transform}`);
                    }
                }
            });
            
            console.log('Chat open state:', isAgentforceChatOpen);
            console.log('Toggle function available:', typeof toggleAgentforceChat);
        };
        
        // Test button click simulation
        window.testButtonClick = function() {
            console.log('=== TESTING BUTTON CLICK ===');
            const toggle = document.getElementById('agentforce-toggle');
            if (toggle) {
                console.log('Button found, simulating click...');
                toggle.click();
                console.log('Click simulated');
            } else {
                console.error('Button not found!');
            }
        };

        // Simple test function for debugging
        window.testCharts = function() {
            console.log('=== CHART DEBUG TEST ===');
            console.log('Chart.js loaded:', typeof Chart !== 'undefined');
            console.log('Charts initialized flag:', chartsInitialized);
            
            // Test canvas elements
            const canvasIds = ['serviceCaseChart', 'customerSatisfactionChart', 'responseTimeChart', 'fieldServiceChart', 'agentPerformanceChart', 'customerRecoveryChart'];
            canvasIds.forEach(id => {
                const element = document.getElementById(id);
                console.log(`${id}:`, element ? 'Found' : 'NOT FOUND');
                if (element) {
                    console.log(`  - Visible: ${element.offsetParent !== null}`);
                    console.log(`  - Dimensions: ${element.clientWidth}x${element.clientHeight}`);
                }
            });
            
            // Try to initialize one simple chart
            try {
                const testCanvas = document.getElementById('serviceCaseChart');
                if (testCanvas && typeof Chart !== 'undefined') {
                    console.log('Attempting to create test chart...');
                    new Chart(testCanvas, {
                        type: 'bar',
                        data: {
                            labels: ['Test'],
                            datasets: [{
                                label: 'Test Data',
                                data: [100],
                                backgroundColor: '#0176D3'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                    console.log('âœ… Test chart created successfully!');
                } else {
                    console.log('âŒ Cannot create test chart - canvas or Chart.js not available');
                }
            } catch (error) {
                console.error('âŒ Error creating test chart:', error);
            }
        };

        // Chart initialization functions
        function initializeCharts() {
            console.log('Initializing Service VP charts...');
            
            // Prevent multiple initializations
            if (chartsInitialized) {
                console.log('Charts already initialized, skipping...');
                return;
            }
            
            // Check if Chart.js is loaded
            if (typeof Chart === 'undefined') {
                console.error('Chart.js library is not loaded!');
                return;
            }
            
            // Debug: Check if chart containers exist
            const chartContainers = [
                'serviceCaseChart',
                'customerSatisfactionChart', 
                'responseTimeChart',
                'fieldServiceChart',
                'agentPerformanceChart',
                'customerRecoveryChart'
            ];
            
            chartContainers.forEach(id => {
                const element = document.getElementById(id);
                console.log(`Chart container ${id}:`, element ? 'Found' : 'NOT FOUND');
                if (element) {
                    console.log(`  - Visible:`, element.offsetParent !== null);
                    console.log(`  - Dimensions:`, element.clientWidth, 'x', element.clientHeight);
                }
            });
            
            // Service Case Volume & Resolution Chart
            const serviceCaseCtx = document.getElementById('serviceCaseChart');
            if (serviceCaseCtx) {
                console.log('Creating service case volume chart...');
                new Chart(serviceCaseCtx, {
                    type: 'line',
                    data: {
                        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Current Week'],
                        datasets: [{
                            label: 'Total Cases',
                            data: [245, 278, 312, 289, 347],
                            borderColor: '#FF6B35',
                            backgroundColor: 'rgba(255, 107, 53, 0.1)',
                            tension: 0.4,
                            fill: true,
                            yAxisID: 'y'
                        }, {
                            label: 'FCR Rate (%)',
                            data: [78, 75, 68, 45, 23],
                            borderColor: '#0176D3',
                            backgroundColor: 'rgba(1, 118, 211, 0.1)',
                            tension: 0.4,
                            fill: false,
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { 
                                display: true,
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                beginAtZero: true,
                                grid: { color: '#E5E5E5' },
                                title: {
                                    display: true,
                                    text: 'Number of Cases'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                beginAtZero: true,
                                max: 100,
                                grid: { drawOnChartArea: false },
                                title: {
                                    display: true,
                                    text: 'FCR Rate (%)'
                                }
                            },
                            x: {
                                grid: { display: false }
                            }
                        }
                    }
                });
            }

            // Customer Satisfaction Recovery Chart
            const customerSatisfactionCtx = document.getElementById('customerSatisfactionChart');
            if (customerSatisfactionCtx) {
                console.log('Creating customer satisfaction chart...');
                new Chart(customerSatisfactionCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Current'],
                        datasets: [{
                            label: 'CSAT Score',
                            data: [4.2, 4.1, 3.9, 3.5, 2.8, 2.1],
                            backgroundColor: function(context) {
                                const value = context.parsed.y;
                                if (value >= 4.0) return '#00A862';
                                if (value >= 3.0) return '#FFB75D';
                                return '#FF6B35';
                            },
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 5,
                                grid: { color: '#E5E5E5' },
                                title: {
                                    display: true,
                                    text: 'CSAT Score (out of 5)'
                                }
                            },
                            x: {
                                grid: { display: false }
                            }
                        }
                    }
                });
            }

            // Response Time Performance Chart
            const responseTimeCtx = document.getElementById('responseTimeChart');
            if (responseTimeCtx) {
                console.log('Creating response time chart...');
                new Chart(responseTimeCtx, {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            label: 'Actual Response Time (hrs)',
                            data: [2.1, 2.3, 2.8, 3.5, 4.2, 4.1, 3.9],
                            borderColor: '#FF6B35',
                            backgroundColor: 'rgba(255, 107, 53, 0.1)',
                            tension: 0.4,
                            fill: true
                        }, {
                            label: 'Target (2hrs)',
                            data: [2, 2, 2, 2, 2, 2, 2],
                            borderColor: '#00A862',
                            borderDash: [5, 5],
                            fill: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { 
                                display: true,
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 5,
                                grid: { color: '#E5E5E5' },
                                title: {
                                    display: true,
                                    text: 'Response Time (hours)'
                                }
                            },
                            x: {
                                grid: { display: false }
                            }
                        }
                    }
                });
            }

            // Field Service Efficiency Chart
            const fieldServiceCtx = document.getElementById('fieldServiceChart');
            if (fieldServiceCtx) {
                console.log('Creating field service efficiency chart...');
                new Chart(fieldServiceCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Same-Day Completion', 'Next-Day Completion', 'Pending'],
                        datasets: [{
                            data: [117, 28, 11], // Out of 156 total visits
                            backgroundColor: [
                                '#00A862',
                                '#FFB75D',
                                '#FF6B35'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'bottom',
                                labels: {
                                    usePointStyle: true,
                                    padding: 15,
                                    font: { size: 11 }
                                }
                            }
                        }
                    }
                });
            }

            // Service Agent Performance Chart
            const agentPerformanceCtx = document.getElementById('agentPerformanceChart');
            if (agentPerformanceCtx) {
                console.log('Creating agent performance chart...');
                new Chart(agentPerformanceCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Agent Utilization', 'Avg Handle Time', 'Resolution Rate', 'Customer Rating'],
                        datasets: [{
                            label: 'Current Performance',
                            data: [67, 12.5, 23, 2.1],
                            backgroundColor: '#FF6B35',
                            borderRadius: 4
                        }, {
                            label: 'Target Performance',
                            data: [75, 10, 78, 4.2],
                            backgroundColor: '#0176D3',
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top',
                                labels: {
                                    usePointStyle: true,
                                    padding: 20
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#E5E5E5' }
                            },
                            x: {
                                grid: { display: false }
                            }
                        }
                    }
                });
            }

            // Customer Recovery Pipeline Chart
            const customerRecoveryCtx = document.getElementById('customerRecoveryChart');
            if (customerRecoveryCtx) {
                console.log('Creating customer recovery pipeline chart...');
                new Chart(customerRecoveryCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Identified Issues', 'Outreach Initiated', 'Response Received', 'Resolution Applied', 'Satisfaction Restored'],
                        datasets: [{
                            label: 'Customer Count',
                            data: [347, 278, 201, 156, 139],
                            backgroundColor: [
                                '#FF6B35',
                                '#FFB75D',
                                '#0176D3',
                                '#00A862',
                                '#8B5CF6'
                            ],
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: '#E5E5E5' },
                                title: {
                                    display: true,
                                    text: 'Number of Customers'
                                }
                            },
                            x: {
                                grid: { display: false }
                            }
                        }
                    }
                });
            }
            
            // Initialize Critical Metrics Charts
            initializeServiceVPMetricCharts();
            
            // Mark charts as initialized
            chartsInitialized = true;
            console.log('All Service VP charts initialized successfully!');
        }

        // Initialize Service VP Critical Metrics Charts
        function initializeServiceVPMetricCharts() {
            console.log('Initializing Service VP metric charts...');
            
            // Customer Satisfaction Chart (Severe decline trend)
            const custSatCtx = document.getElementById('chart-customer-satisfaction-vp');
            if (custSatCtx) {
                new Chart(custSatCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            data: [4.2, 3.8, 3.4, 2.9, 2.5, 2.1],
                            borderColor: '#DC2626',
                            backgroundColor: 'rgba(220, 38, 38, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointRadius: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { display: false, min: 1.5, max: 4.5 },
                            x: { display: false }
                        },
                        elements: { line: { borderWidth: 3 } }
                    }
                });
            }

            // Service Resolution Time Chart (Sharp increase)
            const serviceResCtx = document.getElementById('chart-service-resolution-vp');
            if (serviceResCtx) {
                new Chart(serviceResCtx, {
                    type: 'bar',
                    data: {
                        labels: ['W1', 'W2', 'W3', 'W4'],
                        datasets: [{
                            data: [2.9, 3.2, 3.8, 4.2],
                            backgroundColor: ['#FFA500', '#FF8C00', '#FF4500', '#DC2626'],
                            borderRadius: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { display: false, min: 2, max: 5 },
                            x: { display: false }
                        }
                    }
                });
            }

            // First Contact Resolution Chart (Critical low percentage)
            const fcrCtx = document.getElementById('chart-first-contact-resolution-vp');
            if (fcrCtx) {
                new Chart(fcrCtx, {
                    type: 'doughnut',
                    data: {
                        datasets: [{
                            data: [23, 77],
                            backgroundColor: ['#DC2626', '#E5E7EB'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '70%',
                        plugins: { legend: { display: false } }
                    }
                });
            }

            // Customer Lifetime Value Chart (Decline trend)
            const clvCtx = document.getElementById('chart-customer-lifetime-value-vp');
            if (clvCtx) {
                new Chart(clvCtx, {
                    type: 'line',
                    data: {
                        labels: ['Q1', 'Q2', 'Q3', 'Q4', 'Q1', 'Q2'],
                        datasets: [{
                            data: [12.1, 11.8, 11.5, 11.0, 10.7, 10.3],
                            borderColor: '#DC2626',
                            backgroundColor: 'rgba(220, 38, 38, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointRadius: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { display: false, min: 9, max: 13 },
                            x: { display: false }
                        },
                        elements: { line: { borderWidth: 2 } }
                    }
                });
            }

            // Net Promoter Score Chart (Low score breakdown)
            const npsCtx = document.getElementById('chart-nps-vp');
            if (npsCtx) {
                new Chart(npsCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Detractors', 'Passives', 'Promoters'],
                        datasets: [{
                            data: [35, 23, 42],
                            backgroundColor: ['#DC2626', '#FFA500', '#10B981']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y',
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { display: false },
                            x: { display: false, max: 100 }
                        }
                    }
                });
            }

            // Enterprise Escalations Chart (Dramatic spike)
            const escalationsCtx = document.getElementById('chart-enterprise-escalations-vp');
            if (escalationsCtx) {
                new Chart(escalationsCtx, {
                    type: 'line',
                    data: {
                        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                        datasets: [{
                            data: [12, 15, 18, 25, 35, 42, 47],
                            borderColor: '#DC2626',
                            backgroundColor: 'rgba(220, 38, 38, 0.2)',
                            tension: 0.2,
                            fill: true,
                            pointRadius: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { display: false, min: 0, max: 50 },
                            x: { display: false }
                        },
                        elements: { line: { borderWidth: 3 } }
                    }
                });
            }

            // Churn Risk Accounts Chart (High risk concentration)
            const churnCtx = document.getElementById('chart-churn-risk-vp');
            if (churnCtx) {
                new Chart(churnCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Low', 'Medium', 'High', 'Critical'],
                        datasets: [{
                            data: [5, 8, 10, 23],
                            backgroundColor: ['#10B981', '#FFA500', '#FF4500', '#DC2626']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { display: false, max: 25 },
                            x: { display: false }
                        }
                    }
                });
            }

            // Social Sentiment Chart (Severe negative trend)
            const sentimentCtx = document.getElementById('chart-social-sentiment-vp');
            if (sentimentCtx) {
                new Chart(sentimentCtx, {
                    type: 'line',
                    data: {
                        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
                        datasets: [{
                            data: [15, 5, -15, -34],
                            borderColor: '#DC2626',
                            backgroundColor: 'rgba(220, 38, 38, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointRadius: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { display: false, min: -40, max: 20 },
                            x: { display: false }
                        },
                        elements: { line: { borderWidth: 2 } }
                    }
                });
            }

            console.log('Service VP metric charts initialized successfully!');
        }

        // Enhanced Agentforce Chat Functions
        var enhancedChatHistory = [];
        var isAgentforceChatOpen = false;

        function toggleAgentforceChat() {
            console.log('toggleAgentforceChat called');
            
            const chatContainer = document.getElementById('agentforce-chat-container');
            const toggle = document.getElementById('agentforce-toggle');
            const notification = document.getElementById('agentforce-notification');
            
            console.log('Elements found:', {
                chatContainer: !!chatContainer,
                toggle: !!toggle,
                notification: !!notification
            });
            
            if (!chatContainer || !toggle) {
                console.error('Required elements not found for Agentforce toggle');
                return;
            }
            
            isAgentforceChatOpen = !isAgentforceChatOpen;
            console.log('Chat open state:', isAgentforceChatOpen);
            
            if (isAgentforceChatOpen) {
                chatContainer.classList.add('open');
                toggle.classList.add('active');
                if (notification) notification.style.display = 'none';
                
                console.log('Chat opened - classes added');
                
                // Focus on input when opened
                setTimeout(() => {
                    const input = document.getElementById('enhanced-chat-input');
                    if (input) {
                        input.focus();
                    }
                }, 300);
            } else {
                chatContainer.classList.remove('open');
                toggle.classList.remove('active');
                console.log('Chat closed - classes removed');
            }
        }

        function sendEnhancedMessage() {
            const input = document.getElementById('enhanced-chat-input');
            const message = input.value.trim();
            
            if (!message) return;

            addEnhancedUserMessage(message);
            input.value = '';
            autoResizeTextarea(input);
            
            // Show typing indicator
            showEnhancedTyping();
            
            // Simulate AI response
            setTimeout(() => {
                processEnhancedAIResponse(message);
                hideEnhancedTyping();
            }, 2000);
        }

        function sendEnhancedSuggestion(suggestion) {
            const input = document.getElementById('enhanced-chat-input');
            input.value = suggestion;
            autoResizeTextarea(input);
            sendEnhancedMessage();
        }

        function handleEnhancedKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendEnhancedMessage();
            }
        }

        function autoResizeTextarea(textarea) {
            textarea.style.height = 'auto';
            const newHeight = Math.min(textarea.scrollHeight, 120);
            textarea.style.height = newHeight + 'px';
        }

        function addEnhancedUserMessage(message) {
            const conversation = document.getElementById('enhanced-chat-conversation');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'enhanced-chat-message user';
            messageDiv.innerHTML = `
                <div class="enhanced-message-bubble user">${message}</div>
                <div class="enhanced-message-timestamp">Just now</div>
            `;
            conversation.appendChild(messageDiv);
            conversation.scrollTop = conversation.scrollHeight;
            
            enhancedChatHistory.push({type: 'user', message: message, timestamp: new Date()});
        }

        function addEnhancedAIMessage(message) {
            const conversation = document.getElementById('enhanced-chat-conversation');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'enhanced-chat-message ai';
            messageDiv.innerHTML = `
                <div class="enhanced-message-bubble ai">${message}</div>
                <div class="enhanced-message-timestamp">Just now</div>
            `;
            conversation.appendChild(messageDiv);
            conversation.scrollTop = conversation.scrollHeight;
            
            enhancedChatHistory.push({type: 'ai', message: message, timestamp: new Date()});
        }

        function showEnhancedTyping() {
            document.getElementById('enhanced-typing-indicator').style.display = 'flex';
            const conversation = document.getElementById('enhanced-chat-conversation');
            conversation.scrollTop = conversation.scrollHeight;
        }

        function hideEnhancedTyping() {
            document.getElementById('enhanced-typing-indicator').style.display = 'none';
        }

        function processEnhancedAIResponse(userMessage) {
            const message = userMessage.toLowerCase();
            let response = '';

            if (message.includes('sales') || message.includes('revenue')) {
                response = "ðŸ“ˆ I've analyzed your sales performance. Current Q4 revenue is tracking at $12.8M (85% of target). Key opportunities include expanding enterprise accounts and improving conversion rates in the West region. Would you like me to create action items for your sales team?";
                
            } else if (message.includes('pipeline') || message.includes('forecast')) {
                response = "ðŸŽ¯ Your pipeline looks strong with $45M in opportunities. However, I notice 23% of deals are stalled in the proposal stage. I recommend focusing on deal acceleration strategies and competitive positioning. Should I suggest specific actions?";
                
            } else if (message.includes('kpi') || message.includes('metrics') || message.includes('performance')) {
                response = "ðŸ“Š I'm tracking 15 key metrics across your organization. Customer satisfaction is up 12%, but operational efficiency has dipped 3% this quarter. I can drill into specific areas or set up automated alerts for critical thresholds. What would you like to explore?";
                
            } else if (message.includes('team') || message.includes('people') || message.includes('hr')) {
                response = "ðŸ‘¥ Your team performance shows strong engagement (87%) but I've identified potential retention risks in Engineering and Sales. I recommend implementing targeted development programs and addressing workload balance. Would you like a detailed people analytics report?";
                
            } else if (message.includes('strategy') || message.includes('planning')) {
                response = "ðŸŽ¯ I can help you with strategic planning! I have access to market trends, competitive intelligence, and your historical performance data. I can create strategy boards, analyze scenarios, or provide recommendations. What strategic area would you like to focus on?";
                
            } else if (message.includes('risk') || message.includes('compliance')) {
                response = "âš ï¸ I'm monitoring 12 risk factors across your business. Current risk score is Medium-Low, but I've flagged potential supply chain disruptions and regulatory changes in your key markets. Should I create a risk mitigation plan?";
                
            } else if (message.includes('budget') || message.includes('cost') || message.includes('finance')) {
                response = "ðŸ’° Your financial health looks solid with 94% budget adherence. However, I've identified $2.3M in potential cost savings through operational improvements and vendor renegotiations. Would you like me to present optimization opportunities?";
                
            } else {
                response = "âœ¨ I'm your executive AI assistant, ready to help with strategic insights, performance analysis, and decision support. I can analyze your KPIs, create action plans, assess risks, or provide market intelligence. What would you like to explore today?";
            }

            addEnhancedAIMessage(response);
        }

        function showAgentforceNotification() {
            const notification = document.getElementById('agentforce-notification');
            if (!isAgentforceChatOpen) {
                notification.style.display = 'flex';
            }
        }

        // Initialize first feed item selection
        function initializeFirstFeedSelection() {
            const firstFeedItem = document.querySelector('.feed-item[data-alert-id="1"]');
            if (firstFeedItem) {
                // Add selected class to first feed item
                firstFeedItem.classList.add('selected');
                
                // Show comprehensive alert details for the first item
                showComprehensiveAlertDetails();
            }
        }

        // Interactive Propagation Functions
        function showPropagation(metricId) {
            // Remove selection from all metrics
            document.querySelectorAll('.clickable-metric').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Add selection to clicked metric
            document.querySelector(`[data-metric="${metricId}"]`).classList.add('selected');
            
            // Show propagation container
            const container = document.getElementById('propagation-container');
            const content = document.getElementById('propagation-content');
            const title = document.getElementById('propagation-title');
            
            // Update title
            title.textContent = `ðŸ”„ Cross-Cloud Impact: ${getMetricDisplayName(metricId)}`;
            
            // Generate specific propagation content
            content.innerHTML = generatePropagationContent(metricId);
            
            // Show with animation
            container.style.display = 'block';
            container.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function hidePropagation() {
            // Remove selection from all metrics
            document.querySelectorAll('.clickable-metric').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Hide propagation container
            document.getElementById('propagation-container').style.display = 'none';
        }

        function getMetricDisplayName(metricId) {
            const names = {
                'customer-satisfaction': 'Customer Satisfaction',
                'service-resolution': 'Service Resolution Time',
                'first-contact-resolution': 'First Contact Resolution',
                'customer-lifetime-value-affected': 'Customer Lifetime Value',
                'nps-affected': 'Net Promoter Score'
            };
            return names[metricId] || metricId;
        }

        function generatePropagationContent(metricId) {
            const propagationData = {
                'customer-satisfaction': {
                    chains: [
                        {
                            source: { title: 'CSAT â†“', value: '3.2/5', clouds: ['Service'] },
                            impacts: [
                                { title: 'CUSTOMER LTV â†“', value: '$10.3K', clouds: ['Sales', 'Revenue'] },
                                { title: 'RENEWAL RATE â†“', value: '78%', clouds: ['Marketing', 'Revenue'] }
                            ]
                        }
                    ],
                    summary: [
                        'Poor CSAT directly reduces customer lifetime value by 15%',
                        'Affects renewal rates across marketing campaigns',
                        'Creates negative sentiment impacting brand perception',
                        'Increases support escalations by 156%'
                    ]
                },
                'service-resolution': {
                    chains: [
                        {
                            source: { title: 'RESOLUTION TIME â†‘', value: '4.2 hrs', clouds: ['Service'] },
                            impacts: [
                                { title: 'OPPORTUNITY RISK â†‘', value: '247 accounts', clouds: ['Sales', 'Service'] },
                                { title: 'BRAND SENTIMENT â†“', value: '-34%', clouds: ['Marketing', 'CSI'] }
                            ]
                        }
                    ],
                    summary: [
                        'Longer resolution times create sales opportunity risks',
                        'Affects 247 accounts with open opportunities',
                        'Damages brand sentiment by 34%',
                        'Increases customer acquisition costs'
                    ]
                },
                'first-contact-resolution': {
                    chains: [
                        {
                            source: { title: 'FCR â†“', value: '68%', clouds: ['Service'] },
                            impacts: [
                                { title: 'CHURN RISK â†‘', value: '23 accounts', clouds: ['Sales', 'Revenue'] },
                                { title: 'ACQUISITION COST â†‘', value: '$247', clouds: ['Marketing', 'Sales'] }
                            ]
                        }
                    ],
                    summary: [
                        'Poor FCR increases churn risk for 23 high-value accounts',
                        'Drives up customer acquisition costs by 32%',
                        'Creates negative word-of-mouth affecting marketing',
                        'Reduces overall customer satisfaction scores'
                    ]
                },
                'customer-lifetime-value-affected': {
                    chains: [
                        {
                            source: { title: 'LTV â†“', value: '$10.3K', clouds: ['Sales', 'Revenue'] },
                            impacts: [
                                { title: 'MARKETING ROI â†“', value: '23%', clouds: ['Marketing', 'Revenue'] },
                                { title: 'RETENTION COST â†‘', value: '$89', clouds: ['Service', 'Marketing'] }
                            ]
                        }
                    ],
                    summary: [
                        'Reduced LTV affects marketing campaign ROI',
                        'Increases customer retention costs by 89%',
                        'Impacts revenue forecasting accuracy',
                        'Affects pricing strategy across product lines'
                    ]
                },
                'nps-affected': {
                    chains: [
                        {
                            source: { title: 'NPS â†“', value: '42', clouds: ['CSI'] },
                            impacts: [
                                { title: 'REFERRAL RATE â†“', value: '18%', clouds: ['Marketing', 'Sales'] },
                                { title: 'BRAND VALUE â†“', value: '$2.1M', clouds: ['Marketing', 'Revenue'] }
                            ]
                        }
                    ],
                    summary: [
                        'Lower NPS reduces organic referral rates by 18%',
                        'Affects brand value by $2.1M annually',
                        'Impacts marketing campaign effectiveness',
                        'Increases competitive vulnerability'
                    ]
                }
            };

            const data = propagationData[metricId];
            if (!data) return '<p>No propagation data available for this metric.</p>';

            let html = '<div class="propagation-flow">';
            
            data.chains.forEach(chain => {
                html += `
                    <div class="propagation-chain">
                        <div class="source-metric">
                            <div class="metric-card mini">
                                <div class="cloud-logos">
                                    ${chain.source.clouds.map(cloud => 
                                        cloud === 'CSI' ? 
                                        '<div class="cloud-logo csi">CSI</div>' :
                                        `<div class="cloud-logo"><img src="../Icons/${cloud}.png" alt="${cloud} Cloud" /></div>`
                                    ).join('')}
                                </div>
                                <div class="metric-title">${chain.source.title}</div>
                                <div class="metric-value">${chain.source.value}</div>
                            </div>
                        </div>
                        <div class="propagation-arrow">â†’</div>
                        <div class="affected-metrics-chain">
                            ${chain.impacts.map((impact, index) => `
                                ${index > 0 ? '<div class="propagation-arrow">â†’</div>' : ''}
                                <div class="metric-card mini">
                                    <div class="cloud-logos">
                                        ${impact.clouds.map(cloud => 
                                            cloud === 'CSI' ? 
                                            '<div class="cloud-logo csi">CSI</div>' :
                                            `<div class="cloud-logo"><img src="../Icons/${cloud}.png" alt="${cloud} Cloud" /></div>`
                                        ).join('')}
                                    </div>
                                    <div class="metric-title">${impact.title}</div>
                                    <div class="metric-value">${impact.value}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            html += `
                </div>
                <div class="impact-summary">
                    <h5>ðŸ“Š Executive Impact Analysis</h5>
                    <ul>
                        ${data.summary.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
            `;

            return html;
        }

        // Create Strategy Board function
        function createStrategyBoard() {
            // Get current alert details
            const selectedFeedItem = document.querySelector('.feed-item.selected');
            if (!selectedFeedItem) {
                alert('Please select an alert first');
                return;
            }
            
            const alertId = selectedFeedItem.getAttribute('data-alert-id');
            const alertData = alertDetails[alertId];
            
            if (!alertData) {
                alert('Alert data not found');
                return;
            }
            
            // Generate strategy board HTML content based on alert details
            const strategyBoardHtml = generateStrategyBoardHtml(alertData, alertId);
            
            // Create new window with strategy board
            const newWindow = window.open('', '_blank', 'width=1400,height=900,scrollbars=yes,resizable=yes');
            newWindow.document.write(strategyBoardHtml);
            newWindow.document.close();
        }
        
        // Generate strategy board HTML based on alert data
        function generateStrategyBoardHtml(alertData, alertId) {
            const timestamp = new Date().toLocaleString();
            
            // Extract key information from alert data
            const title = alertData.title || 'Executive Strategy Board';
            const description = alertData.description || 'Strategic response to critical business alert';
            const affectedMetrics = alertData.affectedMetrics || [];
            const recommendations = alertData.recommendations || [];
            
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title} - Strategy Board</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #f3f3f3;
            --text-primary: #181818;
            --text-secondary: #706e6b;
            --border-primary: #c9c7c5;
            --border-secondary: #dddbda;
            --slds-c-color-brand: #0176d3;
            --slds-c-color-success: #04844b;
            --slds-c-color-warning: #ffb71b;
            --slds-c-color-error: #c23934;
        }
        
        body {
            font-family: 'Salesforce Sans', Arial, sans-serif;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            line-height: 1.5;
        }
        
        .strategy-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .board-header {
            background: linear-gradient(135deg, var(--slds-c-color-brand) 0%, #4A90E2 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
        }
        
        .board-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .board-meta {
            display: flex;
            gap: 1rem;
            align-items: center;
            opacity: 0.9;
        }
        
        .meta-item {
            background: rgba(255,255,255,0.2);
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
        }
        
        .section {
            background: var(--bg-primary);
            border: 1px solid var(--border-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .metric-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-secondary);
            border-radius: 8px;
            padding: 1rem;
            text-align: left;
        }
        
        .metric-title {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }
        
        .metric-value {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .recommendations-list {
            list-style: none;
            padding: 0;
        }
        
        .recommendations-list li {
            background: var(--bg-secondary);
            border: 1px solid var(--border-secondary);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            position: relative;
            padding-left: 3rem;
        }
        
        .recommendations-list li::before {
            content: "ðŸŽ¯";
            position: absolute;
            left: 1rem;
            top: 1rem;
        }
        
        .objective {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
            background: var(--slds-c-color-warning);
            color: white;
        }
    </style>
</head>
<body>
    <div class="strategy-container">
        <div class="board-header">
            <div class="board-title">${title}</div>
            <div class="board-meta">
                <div class="meta-item">Alert ID: ${alertId}</div>
                <div class="meta-item">Created: ${timestamp}</div>
                <div class="meta-item">Priority: High</div>
                <div class="meta-item"><span class="status-badge">Active</span></div>
            </div>
        </div>
        
        <div class="objective">
            <h2>Strategic Objective</h2>
            <p>${description}</p>
        </div>
        
        <div class="section">
            <h3 class="section-title">ðŸ“Š Key Metrics Under Review</h3>
            <div class="metrics-grid">
                ${affectedMetrics.map(metric => `
                    <div class="metric-card">
                        <div class="metric-title">${metric.name || 'Metric'}</div>
                        <div class="metric-value">${metric.value || 'N/A'}</div>
                    </div>
                `).join('')}
            </div>
        </div>
        
        <div class="section">
            <h3 class="section-title">ðŸŽ¯ Strategic Actions</h3>
            <ul class="recommendations-list">
                ${recommendations.map(rec => `
                    <li>${rec}</li>
                `).join('')}
            </ul>
        </div>
        
        <div class="section">
            <h3 class="section-title">ðŸ‘¥ Stakeholders & Responsibilities</h3>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-title">Executive Sponsor</div>
                    <div class="metric-value">CXO</div>
                </div>
                <div class="metric-card">
                    <div class="metric-title">Project Owner</div>
                    <div class="metric-value">VP Operations</div>
                </div>
                <div class="metric-card">
                    <div class="metric-title">Timeline</div>
                    <div class="metric-value">30 Days</div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h3 class="section-title">ðŸ“ˆ Success Criteria</h3>
            <ul class="recommendations-list">
                <li>Restore affected metrics to target levels within 30 days</li>
                <li>Implement preventive measures to avoid recurrence</li>
                <li>Improve cross-functional collaboration and response time</li>
                <li>Document lessons learned and update playbooks</li>
            </ul>
        </div>
    </div>
</body>
</html>`;
        }

        // Main tab switching functionality

        // Initialize watchlist functionality when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeWatchlistViewSwitching();
            initializeKanbanDragDrop();
            initializeFilterButtons();
            
            // Initialize first feed item selection
            initializeFirstFeedSelection();
            
            // Initialize Agentforce toggle functionality
            setTimeout(() => {
                const agentforceToggle = document.getElementById('agentforce-toggle');
                if (agentforceToggle) {
                    console.log('Setting up Agentforce toggle event listener...');
                    
                    // Remove any existing onclick handlers and add event listener
                    agentforceToggle.removeAttribute('onclick');
                    agentforceToggle.addEventListener('click', function(e) {
                        console.log('Agentforce button clicked via event listener');
                        e.preventDefault();
                        e.stopPropagation();
                        toggleAgentforceChat();
                    });
                    
                    // Also add click handler to minimize button
                    const minimizeBtn = document.querySelector('.chat-minimize');
                    if (minimizeBtn) {
                        minimizeBtn.removeAttribute('onclick');
                        minimizeBtn.addEventListener('click', function(e) {
                            console.log('Chat minimize clicked via event listener');
                            e.preventDefault();
                            e.stopPropagation();
                            toggleAgentforceChat();
                        });
                    }
                    
                    console.log('Agentforce toggle initialized successfully');
                } else {
                    console.error('Agentforce toggle button not found!');
                }
            }, 500);
            
            // Check if Monitor tab is already active and initialize charts
            setTimeout(() => {
                const monitorTab = document.getElementById('monitor');
                if (monitorTab && monitorTab.classList.contains('active')) {
                    console.log('Monitor tab is already active on page load, initializing charts...');
                    initializeCharts();
                }
            }, 1000); // Delay to ensure everything is loaded
            
            // Initialize Agentforce Assistant
            setTimeout(() => {
                showAgentforceNotification();
                addEnhancedAIMessage("ðŸ”® Welcome to the Vision Command Center - the future of business intelligence! I'm your enhanced Agentforce Assistant with predictive capabilities, autonomous operations support, and industry leadership insights. I've been analyzing cross-dimensional data patterns and I'm ready to help you navigate the future of your business.");
            }, 3000);
            
            // Add pulse animation to the assistant button
            const pulse = document.getElementById('agentforce-pulse');
            if (pulse) {
                pulse.style.display = 'block';
            }
        });
    </script>

    <!-- Enhanced Floating Agentforce Assistant -->
    <div class="agentforce-floating" id="agentforce-floating">
        <div class="agentforce-pulse" id="agentforce-pulse"></div>
        <button class="agentforce-toggle" id="agentforce-toggle" onclick="toggleAgentforceChat()">
            <span id="agentforce-icon">ðŸ¤–</span>
            <div class="agentforce-notification" id="agentforce-notification" style="display: none;">1</div>
        </button>
        
        <div class="agentforce-chat-container" id="agentforce-chat-container">
            <div class="enhanced-chat-header">
                <div class="chat-header-info">
                    <div class="agentforce-avatar">ðŸ¤–</div>
                    <div class="chat-header-text">
                        <h3>Agentforce Assistant</h3>
                        <div class="ai-status active">Executive AI â€¢ Ready to assist</div>
                    </div>
                </div>
                <button class="chat-minimize" onclick="toggleAgentforceChat()">âˆ’</button>
            </div>
            
            <div class="enhanced-chat-conversation" id="enhanced-chat-conversation">
                <div class="enhanced-chat-message ai">
                    <div class="enhanced-message-bubble ai">
                        ðŸ‘‹ Welcome! I'm your executive AI assistant with access to all your business metrics, market intelligence, and strategic planning tools. How can I help you drive better business outcomes today?
                    </div>
                    <div class="enhanced-message-timestamp">Just now</div>
                </div>
            </div>

            <div class="enhanced-typing-indicator" id="enhanced-typing-indicator">
                <span>Agentforce is analyzing...</span>
                <div class="enhanced-typing-dots">
                    <div class="enhanced-typing-dot"></div>
                    <div class="enhanced-typing-dot"></div>
                    <div class="enhanced-typing-dot"></div>
                </div>
            </div>

            <div class="enhanced-chat-input-container">
                <div class="enhanced-suggestion-chips" id="enhanced-suggestion-chips">
                    <div class="enhanced-suggestion-chip" onclick="sendEnhancedSuggestion('Analyze Q4 performance')">ðŸ“Š Analyze Q4 performance</div>
                    <div class="enhanced-suggestion-chip" onclick="sendEnhancedSuggestion('Review sales pipeline')">ðŸŽ¯ Review pipeline</div>
                    <div class="enhanced-suggestion-chip" onclick="sendEnhancedSuggestion('Strategic planning help')">ðŸŽ¯ Strategic planning</div>
                </div>
                <div class="enhanced-input-wrapper">
                    <textarea 
                        class="enhanced-chat-input" 
                        id="enhanced-chat-input" 
                        placeholder="Ask about performance, strategy, risks, or any business insights..."
                        rows="1"
                        onkeypress="handleEnhancedKeyPress(event)"
                        oninput="autoResizeTextarea(this)"
                    ></textarea>
                    <button class="enhanced-send-btn" id="enhanced-send-btn" onclick="sendEnhancedMessage()">
                        âž¤
                    </button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>